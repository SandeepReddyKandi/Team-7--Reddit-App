/*! For license information please see talk-bundle-1c24252600e3be52895c.js.LICENSE.txt */
!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/__assets/",e(e.s=527)}({106:function(t,n){},120:function(t,n,e){"use strict";function i(){var t=document.documentElement,n=document.body;return{width:t.clientWidth||n.clientWidth,height:window.innerHeight}}e.d(n,"a",(function(){return i}))},132:function(t,n,e){"use strict";var i;!function(r){function o(t,n,e){var i,r,o,s,d,O,p,I,g,w=0,E=[],A=0,N=!1,k=[],y=[],_=!1;if(i=(e=e||{}).encoding||"UTF8",(g=e.numRounds||1)!==parseInt(g,10)||1>g)throw Error("numRounds must a integer >= 1");if("SHA-1"!==t)throw Error("Chosen SHA variant is not supported");d=512,O=m,p=b,s=160,I=function(t){return t.slice()},o=v(n,i),r=T(t),this.setHMACKey=function(n,e,o){var u;if(!0===N)throw Error("HMAC key already set");if(!0===_)throw Error("Cannot set HMAC key after calling update");for(n=(e=v(e,i=(o||{}).encoding||"UTF8")(n)).binLen,e=e.value,o=(u=d>>>3)/4-1,u<n/8&&(e=p(e,n,0,T(t),s));e.length<=o;)e.push(0);for(n=0;n<=o;n+=1)k[n]=909522486^e[n],y[n]=1549556828^e[n];r=O(k,r),w=d,N=!0},this.update=function(t){var n,e,i,s=0,u=d>>>5;for(t=(n=o(t,E,A)).binLen,e=n.value,n=t>>>5,i=0;i<n;i+=u)s+d<=t&&(r=O(e.slice(i,i+u),r),s+=d);w+=s,E=e.slice(s>>>5),A=t%d,_=!0},this.getHash=function(n,e){var i,o,v,d;if(!0===N)throw Error("Cannot call getHash after setting HMAC key");switch(v=l(e),n){case"HEX":i=function(t){return u(t,s,v)};break;case"B64":i=function(t){return a(t,s,v)};break;case"BYTES":i=function(t){return c(t,s)};break;case"ARRAYBUFFER":try{o=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}i=function(t){return f(t,s)};break;case"UINT8ARRAY":try{o=new Uint8Array(0)}catch(t){throw Error("UINT8ARRAY not supported by this environment")}i=function(t){return h(t,s)};break;default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}for(d=p(E.slice(),A,w,I(r),s),o=1;o<g;o+=1)d=p(d,s,0,T(t),s);return i(d)},this.getHMAC=function(n,e){var i,o,v,m;if(!1===N)throw Error("Cannot call getHMAC without first setting HMAC key");switch(v=l(e),n){case"HEX":i=function(t){return u(t,s,v)};break;case"B64":i=function(t){return a(t,s,v)};break;case"BYTES":i=function(t){return c(t,s)};break;case"ARRAYBUFFER":try{i=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}i=function(t){return f(t,s)};break;case"UINT8ARRAY":try{i=new Uint8Array(0)}catch(t){throw Error("UINT8ARRAY not supported by this environment")}i=function(t){return h(t,s)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return o=p(E.slice(),A,w,I(r),s),m=O(y,T(t)),i(m=p(o,s,d,m,s))}}function s(t,n,e){var i,r,o,s;for(n=n||[0],r=(e=e||0)>>>3,i=0;i<t.length;i+=1)o=(s=i+r)>>>2,n.length<=o&&n.push(0),n[o]|=t[i]<<8*(3+s%4*-1);return{value:n,binLen:8*t.length+e}}function u(t,n,e){var i,r,o="";for(n/=8,i=0;i<n;i+=1)r=t[i>>>2]>>>8*(3+i%4*-1),o+="0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r);return e.outputUpper?o.toUpperCase():o}function a(t,n,e){var i,r,o,s="",u=n/8;for(i=0;i<u;i+=3)for(r=i+1<u?t[i+1>>>2]:0,o=i+2<u?t[i+2>>>2]:0,o=(t[i>>>2]>>>8*(3+i%4*-1)&255)<<16|(r>>>8*(3+(i+1)%4*-1)&255)<<8|o>>>8*(3+(i+2)%4*-1)&255,r=0;4>r;r+=1)s+=8*i+6*r<=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-r)&63):e.b64Pad;return s}function c(t,n){var e,i,r="",o=n/8;for(e=0;e<o;e+=1)i=t[e>>>2]>>>8*(3+e%4*-1)&255,r+=String.fromCharCode(i);return r}function f(t,n){var e,i,r=n/8,o=new ArrayBuffer(r);for(i=new Uint8Array(o),e=0;e<r;e+=1)i[e]=t[e>>>2]>>>8*(3+e%4*-1)&255;return o}function h(t,n){var e,i=n/8,r=new Uint8Array(i);for(e=0;e<i;e+=1)r[e]=t[e>>>2]>>>8*(3+e%4*-1)&255;return r}function l(t){var n={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(t=t||{},n.outputUpper=t.outputUpper||!1,!0===t.hasOwnProperty("b64Pad")&&(n.b64Pad=t.b64Pad),"boolean"!=typeof n.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw Error("Invalid b64Pad formatting option");return n}function v(t,n){var e;switch(n){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":e=function(t,n,e){var i,r,o,s,u,a=t.length;if(0!=a%2)throw Error("String of HEX type must be in byte increments");for(n=n||[0],u=(e=e||0)>>>3,i=0;i<a;i+=2){if(r=parseInt(t.substr(i,2),16),isNaN(r))throw Error("String of HEX type contains invalid characters");for(o=(s=(i>>>1)+u)>>>2;n.length<=o;)n.push(0);n[o]|=r<<8*(3+s%4*-1)}return{value:n,binLen:4*a+e}};break;case"TEXT":e=function(t,e,i){var r,o,s,u,a,c,f,h,l=0;if(e=e||[0],a=(i=i||0)>>>3,"UTF8"===n)for(h=3,s=0;s<t.length;s+=1)for(o=[],128>(r=t.charCodeAt(s))?o.push(r):2048>r?(o.push(192|r>>>6),o.push(128|63&r)):55296>r||57344<=r?o.push(224|r>>>12,128|r>>>6&63,128|63&r):(s+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(s)),o.push(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r)),u=0;u<o.length;u+=1){for(c=(f=l+a)>>>2;e.length<=c;)e.push(0);e[c]|=o[u]<<8*(h+f%4*-1),l+=1}else if("UTF16BE"===n||"UTF16LE"===n)for(h=2,o="UTF16LE"===n||"UTF16LE"!==n&&!1,s=0;s<t.length;s+=1){for(r=t.charCodeAt(s),!0===o&&(r=(u=255&r)<<8|r>>>8),c=(f=l+a)>>>2;e.length<=c;)e.push(0);e[c]|=r<<8*(h+f%4*-1),l+=2}return{value:e,binLen:8*l+i}};break;case"B64":e=function(t,n,e){var i,r,o,s,u,a,c,f=0;if(-1===t.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(r=t.indexOf("="),t=t.replace(/\=/g,""),-1!==r&&r<t.length)throw Error("Invalid '=' found in base-64 string");for(n=n||[0],a=(e=e||0)>>>3,r=0;r<t.length;r+=4){for(u=t.substr(r,4),o=s=0;o<u.length;o+=1)s|=(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(u.charAt(o)))<<18-6*o;for(o=0;o<u.length-1;o+=1){for(i=(c=f+a)>>>2;n.length<=i;)n.push(0);n[i]|=(s>>>16-8*o&255)<<8*(3+c%4*-1),f+=1}}return{value:n,binLen:8*f+e}};break;case"BYTES":e=function(t,n,e){var i,r,o,s,u;for(n=n||[0],o=(e=e||0)>>>3,r=0;r<t.length;r+=1)i=t.charCodeAt(r),s=(u=r+o)>>>2,n.length<=s&&n.push(0),n[s]|=i<<8*(3+u%4*-1);return{value:n,binLen:8*t.length+e}};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}e=function(t,n,e){return s(new Uint8Array(t),n,e)};break;case"UINT8ARRAY":try{e=new Uint8Array(0)}catch(t){throw Error("UINT8ARRAY not supported by this environment")}e=function(t,n,e){return s(t,n,e)};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return e}function d(t,n){return t<<n|t>>>32-n}function O(t,n){var e=(65535&t)+(65535&n);return((t>>>16)+(n>>>16)+(e>>>16)&65535)<<16|65535&e}function p(t,n,e,i,r){var o=(65535&t)+(65535&n)+(65535&e)+(65535&i)+(65535&r);return((t>>>16)+(n>>>16)+(e>>>16)+(i>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function T(t){if("SHA-1"!==t)throw Error("No SHA variants supported");return[1732584193,4023233417,2562383102,271733878,3285377520]}function m(t,n){var e,i,r,o,s,u,a,c=[];for(e=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=0;80>a;a+=1)c[a]=16>a?t[a]:d(c[a-3]^c[a-8]^c[a-14]^c[a-16],1),u=20>a?p(d(e,5),i&r^~i&o,s,1518500249,c[a]):40>a?p(d(e,5),i^r^o,s,1859775393,c[a]):60>a?p(d(e,5),i&r^i&o^r&o,s,2400959708,c[a]):p(d(e,5),i^r^o,s,3395469782,c[a]),s=o,o=r,r=d(i,30),i=e,e=u;return n[0]=O(e,n[0]),n[1]=O(i,n[1]),n[2]=O(r,n[2]),n[3]=O(o,n[3]),n[4]=O(s,n[4]),n}function b(t,n,e,i){var r;for(r=15+(n+65>>>9<<4);t.length<=r;)t.push(0);for(t[n>>>5]|=128<<24-n%32,n+=e,t[r]=4294967295&n,t[r-1]=n/4294967296|0,n=t.length,r=0;r<n;r+=16)i=m(t.slice(r,r+16),i);return i}void 0===(i=function(){return o}.call(n,e,n,t))||(t.exports=i)}()},133:function(t,n){!function(n,e){function i(t,n){return(typeof n)[0]==t}function r(t,e){return(e=function s(u,a,c,f,h,l){if(f=s.q,u!=i)return r((function(t,n){f.push({p:this,r:t,j:n,1:u,0:a})}));if(c&&i(n,c)|i("o",c))try{h=c.then}catch(t){a=0,c=t}if(i(n,h)){function v(t){return function(n){h&&(h=0,s(i,t,n))}}try{h.call(c,v(1),a=v(0))}catch(t){a(t)}}else for(e=function(e,s){return i(n,e=a?e:s)?r((function(t,n){o(this,t,n,c,e)})):t},l=0;l<f.length;)h=f[l++],i(n,u=h[a])?o(h.p,h.r,h.j,c,u):(a?h.r:h.j)(c)}).q=[],t.call(t={then:function(t,n){return e(t,n)},catch:function(t){return e(0,t)}},(function(t){e(i,1,t)}),(function(t){e(i,0,t)})),t}function o(t,e,r,o,s){setTimeout((function(){try{o=s(o),s=o&&i("o",o)|i(n,o)&&o.then,i(n,s)?o==t?r(TypeError()):s.call(o,e,r):e(o)}catch(t){r(t)}}))}function s(t){return r((function(n){n(t)}))}t.exports=r,r.resolve=s,r.reject=function(t){return r((function(n,e){e(t)}))},r.all=function(t){return r((function(n,e,i,r){r=[],i=t.length||n(r),t.map((function(t,o){s(t).then((function(t){r[o]=t,--i||n(r)}),e)}))}))},r.race=function(t){return r((function(n,e){t.map((function(t){s(t).then(n,e)}))}))}}("f")},14:function(t,n,e){"use strict";e.d(n,"n",(function(){return o})),e.d(n,"e",(function(){return s})),e.d(n,"k",(function(){return u})),e.d(n,"d",(function(){return a})),e.d(n,"g",(function(){return c})),e.d(n,"m",(function(){return f})),e.d(n,"f",(function(){return h})),e.d(n,"h",(function(){return l})),e.d(n,"l",(function(){return v})),e.d(n,"b",(function(){return d})),e.d(n,"j",(function(){return p})),e.d(n,"i",(function(){return T})),e.d(n,"c",(function(){return m}));var i=e(16),r=e(17);function o(){var t=window.crypto,n=t?function(){return t.getRandomValues(new Uint8Array(1))[0]}:function(){return Math.floor(255*Math.random())};return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^n()&15>>t/4).toString(16)}))}function s(){var t={},n=new i.a((function(n,e){t.resolve=n,t.reject=e}));return t.promise=n,t}function u(t,n){var e=function(i){"string"==typeof i.data&&i.data===t&&(n(),window.removeEventListener("message",e))};window.addEventListener("message",e,!1)}function a(t){return n=JSON.stringify(t),btoa(unescape(encodeURIComponent(n)));var n}function c(t,n,e){return new i.a((function(i,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState){if(o.status>=200&&o.status<400){var t=o.response;i(t)}o.status?r(o.responseText):r("Error: Unable to connect")}},o.open(t,n),o.setRequestHeader("Content-Type","application/json"),o.send(e)}))}function f(t,n){document.cookie=t+"="+n+";path=/"}function h(t){var n=l(t);document.cookie=t+"="+n+";expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/"}function l(t){for(var n=0,e=document.cookie.split("; ").map((function(t){return t.split("=")})).map((function(t){return{name:t[0],value:t[1]}}));n<e.length;n++){var i=e[n];if(i.name===t)return i.value}}function v(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}e.d(n,"a",(function(){return r.a}));var d=function(){function t(t){this.u=t}return t.prototype.add=function(n,e){return new t(this.u.concat([[n,e]]))},t.prototype.split=function(){return Object(r.g)(this.O())},t.prototype.O=function(){return this.T||(this.T=this.u.map((function(t){var n=t[0],e=t[1];return null==e&&(e=""),"object"==typeof e&&(e=a(e)),n+"="+encodeURIComponent(e)}))),this.T},t.prototype.toString=function(){return this.O().join("&")},t}(),O={ByV39eoc:1,B1FxElnd:1,aW4c49tW:1,qGfuGtx:1,SbERe5ee:1,ilaVEa15:1,FOlWOSaH:1,dao5gGmT:1,DLUgAhzL:1,fqXFumr6:1,FtiWHMYT:1,"66iWOyWt":1,"1375amYi":1,mWbJgzpt:1,jO7GqAvL:1,SkFIKxo5:1,"2z4ILc3y":1,aDr8oPL1:1,Hku1c4Pt:1};function p(t){return!Object(i.b)(t,"t")&&!O[t]}function T(){return!!window.cordova}var m=function(){function t(t,n){this.I=!1,this.A=0;var e=this;this.callback=function(){if(e.A++,e.A>1)throw new Error("[TalkJS] Cannot call "+t+" more than once");if(e.I)throw new Error("[TalkJS] Cannot call "+t+" asynchronously");return n.apply(null,arguments)}}return t.prototype.expire=function(){this.I=!0},t}()},146:function(t,n,e){"use strict";function i(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",n=0,e=[],i=(new Date).getTime(),r=i===n;n=i;for(var o=new Array(8),s=7;s>=0;s--)o[s]=t.charAt(i%64),i=Math.floor(i/64);if(0!==i)throw new Error("We should have converted the entire timestamp.");var u=o.join("");if(r){for(s=11;s>=0&&63===e[s];s--)e[s]=0;e[s]++}else for(var s=0;s<12;s++)e[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)u+=t.charAt(e[s]);if(20!=u.length)throw new Error("Length should be 20.");return u}e.d(n,"a",(function(){return i}))},15:function(t,n,e){"use strict";e.r(n),e.d(n,"forEach",(function(){return o.a})),e.d(n,"map",(function(){return u})),e.d(n,"clone",(function(){return a})),e.d(n,"omit",(function(){return c})),e.d(n,"filter",(function(){return f})),e.d(n,"findEntry",(function(){return h})),e.d(n,"find",(function(){return l})),e.d(n,"findKey",(function(){return v})),e.d(n,"count",(function(){return d})),e.d(n,"isEmpty",(function(){return O})),e.d(n,"updateIn",(function(){return p})),e.d(n,"setIn",(function(){return T})),e.d(n,"mapEntries",(function(){return m})),e.d(n,"groupBy",(function(){return b})),e.d(n,"promiseAll",(function(){return I})),e.d(n,"isPojo",(function(){return g})),e.d(n,"deepMap",(function(){return w}));var i=e(40),r=e(55),o=e(19),s=function(){return(s=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function u(t,n){return m(t,(function(t){var e=t[0],i=t[1];return[e,n(i,e)]}))}function a(t){return s({},t)}function c(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var i={};return Object(o.a)(t,(function(t,e){-1===n.indexOf(e)&&(i[e]=t)})),i}function f(t,n){var e={};return Object(o.a)(t,(function(t,i){n(t,i)&&(e[i]=t)})),e}function h(t,n){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var i=[e,t[e]];if(n(t[e],e))return i}}function l(t,n){var e=h(t,n);return e&&e[1]}function v(t,n){var e=h(t,n);return e&&e[0]}function d(t){return Object.keys(t).length}function O(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}function p(t,n,e){var i,r=n[0],o=n.slice(1);if(!r)return e(t);var u=t[r]||(o[0]?{}:void 0);return s(s({},t),((i={})[r]=p(u,o,e),i))}function T(t,n,e){return p(t,n,(function(){return e}))}function m(t,n){var e={},i=0;return Object(o.a)(t,(function(t,r){var o=n([r,t],i++),s=o[0],u=o[1];e[s]=u})),e}function b(t,n){var e={},i=0;return Object(o.a)(t,(function(t,r){var o=n([r,t],i++),s=o[0],u=o[1],a=e[s];e[s]=a?a.concat(u):[u]})),e}function I(t){return Promise.all(Object(i.a)(t,(function(t,n){return t.then((function(t){return[n,t]}))}))).then(r.a)}function g(t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}function w(t,n){return Array.isArray(t)?t.map((function(t){return w(t,n)})):g(t)?u(n(t),(function(t){return w(t,n)})):t}},16:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return r}));var i=e(133);function r(t,n,e){return e=e||0,t.substr(e,n.length)===n}},17:function(t,n,e){"use strict";e.d(n,"h",(function(){return r})),e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return s})),e.d(n,"b",(function(){return u})),e.d(n,"f",(function(){return a})),e.d(n,"e",(function(){return c})),e.d(n,"a",(function(){return f})),e.d(n,"g",(function(){return h}));var i=e(35);function r(t){return function(){try{return t.apply(this,arguments)}catch(t){0}}}function o(t){var n=t.replace(/%2F/g,"/").replace(/^.*?\/([^\/]+?)(?:\?.*)?$/,"$1");return decodeURIComponent(n)}function s(t){return/(gif|png|jpg|jpeg|svg|bmp)$/i.test(t)}function u(t,n,e){return Object(i.a)(t+"_"+n+"_"+(e||"GLOBAL"))}function a(t){return new Promise((function(n){return setTimeout(n,t)}))}function c(t,n,e){var i=void 0===e?{}:e,r=i.delay,o=void 0===r?0:r,s=i.log,u=i.retriedCount,f=void 0===u?0:u;return n().catch((function(e){if(s&&s("[TalkJS] Retries left: "+t+". Error: "+JSON.stringify(e)+"."),0===t)throw e;return a(1e3*o*Math.pow(2,f)).then((function(){return c(t-1,n,{retriedCount:f+1,delay:o,log:s})}))}))}var f=1900;function h(t){var n=t.slice().sort((function(t,n){return t.length-n.length})),e=0,r=0;for(r=0;r!==n.length&&!((e+=n[r].length+"&".length)>f);r++);var o=n.slice(0,r).join("&"),s=n.slice(r).join("&");return{short:o,long:s,key:s?Object(i.a)(s):void 0}}},19:function(t,n,e){"use strict";function i(t,n){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n(t[e],e)}e.d(n,"a",(function(){return i}))},2:function(t,n,e){"use strict";e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return o})),e.d(n,"f",(function(){return s})),e.d(n,"b",(function(){return u})),e.d(n,"d",(function(){return a})),e.d(n,"g",(function(){return c})),e.d(n,"e",(function(){return f}));var i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function r(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var o=function(){return(o=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function s(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(e[i[r]]=t[i[r]])}return e}function u(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function u(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,u)}a((i=i.apply(t,n||[])).next())}))}function a(t,n){var e,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function c(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var i=Array(t),r=0;for(n=0;n<e;n++)for(var o=arguments[n],s=0,u=o.length;s<u;s++,r++)i[r]=o[s];return i}function f(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}},22:function(t,n,e){"use strict";e.d(n,"d",(function(){return r})),e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return a})),e.d(n,"c",(function(){return f})),e.d(n,"e",(function(){return h}));var i=e(16);function r(t,n,e){if(!(n instanceof Array))throw console.error("`params` must be array"),new Error("`params` must be array");u({params:n,method:t,___talkjs:!0},e)}var o=0;function s(t,n,e){return new i.a((function(i,r){var s="respond_"+o++,c={},f=function(t){return a(t,{sourceWindow:e,handlers:c})},h=function(){return window.removeEventListener("message",f)};c[s]=function(t){h(),i(t)},c["error_"+s]=function(t){h(),r(function(t){if(t&&t.__fakeError){var n=t.__fakeError,e=n.message,i=n.stack;t=new Error(e),i&&(t.stack=i)}return t}(t))},window.addEventListener("message",f),u({method:t,params:n,responseMethod:s,___talkjs:!0},e)}))}function u(t,n){n.postMessage(t,"*")}function a(t,n){var e=n.sourceWindow,o=n.handlers,s=n.prefix,u=void 0===s?"":s;if(t.data&&(!t.data||"object"==typeof t.data)&&t.data.___talkjs){var a=t.data;if(a.method&&a.params){var f=o[u+a.method];if(f&&e===t.source){var h;try{h=i.a.resolve(f.apply(o,a.params))}catch(t){h=i.a.reject(t)}var l=a.responseMethod;l?h.then((function(t){return r(l,[t],e)}),(function(t){return r("error_"+l,[c(t)],e)})):h.catch((function(t){throw t}))}}}}function c(t){return t&&t.message&&t.stack?{__fakeError:{message:t.message,stack:t.stack}}:t}function f(t,n){var e=function(e){a(e,{sourceWindow:n(),handlers:t})};return window.addEventListener("message",e),{callback:e}}function h(t){window.removeEventListener("message",t.callback)}},287:function(t,n){},311:function(t,n,e){t.exports=e(436)},33:function(t,n,e){"use strict";var i=e(55);e.d(n,"a",(function(){return i.b})),e.d(n,"b",(function(){return i.c}))},35:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i=e(132);function r(t){var n=new i("SHA-1","TEXT");return n.update(t),n.getHash("HEX").substr(0,20)}},36:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return h})),e.d(n,"d",(function(){return l}));var i=e(6),r=(e(106),function(){return(r=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)}),o=function(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(e[i[r]]=t[i[r]])}return e};function s(t,n,e){var i=a(t);return n.filter((function(t){return function(t,n){for(var e=!0,i=0,r=Object.getOwnPropertyNames(n.custom);i<r.length;i++){var o=r[i],s=c(o,t.custom,n.custom[o]);e=e&&s}if(void 0!==n.access){s=f(function(t){var n=t.canWrite,e=t.canRead;if(n)return"ReadWrite";if(e)return"Read";return"None"}(t.rights),n.access);e=e&&s}if(void 0!==n.hasUnreadMessages){s=n.hasUnreadMessages!==t.read;e=e&&s}return e}(e(t),i)}))}function u(t,n,e){var i=a(t);return n.filter((function(t){return function(t,n){for(var e=!0,i=0,r=Object.getOwnPropertyNames(n.custom);i<r.length;i++){var o=c(l=r[i],t.custom,n.custom[l]);e=e&&o}if(void 0!==n.type){o=f(t.type,n.type);e=e&&o}if(void 0!==n.origin){o=f(t.origin,n.origin);e=e&&o}if(void 0!==n.sender){var s=n.sender,u=t.sender;if(null===u)return!1;if(void 0!==s.custom)for(var a=0,h=Object.getOwnPropertyNames(s.custom);a<h.length;a++){var l;o=c(l=h[a],u.custom,s.custom[l]);e=e&&o}if(void 0!==s.id){o=f(u.id,s.id);e=e&&o}if(void 0!==s.locale){o=f(u.locale,s.locale);e=e&&o}if(void 0!==s.role){o=f(u.role,s.role);e=e&&o}}return e}(e(t),i)}))}function a(t){return r({custom:{}},t)}function c(t,n,e){switch(e){case"exists":return t in n;case"!exists":return!(t in n)}return f(n[t],e)}function f(t,n){var e=n[0],i=n[1];switch(e){case"oneOf":return-1!==i.indexOf(t);case"!oneOf":return-1===i.indexOf(t);case"==":return t===i;case"!=":return t!==i}}function h(t,n){var e=n||{},r=e.hasUnreadMessages,s=e.custom,u=e.access,a=o(e,["hasUnreadMessages","custom","access"]);if(Object(i.d)(r,["boolean","undefined"],t+".hasUnreadMessages must be boolean."),Object(i.d)(s,["object","undefined"],t+".custom must be an object."),s)for(var c=0,f=Object.getOwnPropertyNames(s);c<f.length;c++){v(t+".custom."+(h=f[c]),s[h])}for(var h in Object(i.d)(u,["string[]","undefined"],t+".access must be an array."),u&&v(t+".access",u,["ReadWrite","Read","None"]),a)console.warn("[TalkJS] "+t+"."+h+" is not a valid field.")}function l(t,n){var e=n||{},r=e.origin,s=e.type,u=e.custom,a=o(e,["origin","type","custom"]);if(Object(i.d)(r,["string[]","undefined"],t+".origin must be a string."),r&&v(t+".origin",r,["web","rest","email","import"]),Object(i.d)(s,["string[]","undefined"],t+".type must be a string."),s&&v(t+".type",s,["SystemMessage","UserMessage"]),Object(i.d)(u,["object","undefined"],t+".custom must be an object."),u)for(var c=0,f=Object.getOwnPropertyNames(u);c<f.length;c++){v(t+".custom."+(h=f[c]),u[h])}for(var h in a)console.warn("[TalkJS] "+t+"."+h+" is not a valid field.")}function v(t,n,e){var r=t+" must be a valid predicate. See the docs for all available options.";if("string"!=typeof n){if(2!==n.length)throw new Error("[TalkJS] "+r);var o=n[0],s=n[1];if(Object(i.f)(o,["==","!=","oneOf","!oneOf"],r),"oneOf"===o||"!oneOf"===o){if(Object(i.d)(s,["string[]"],r),e)for(var u=0,a=s;u<a.length;u++){var c=a[u];Object(i.f)(c,e,r)}}else Object(i.d)(s,["string"],r),e&&Object(i.f)(s,e,r)}else Object(i.f)(n,["exists","!exists"],r)}},38:function(t,n,e){t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){(function(n){t.exports=n.Phoenix=e(2)}).call(this,e(1))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done)&&(e.push(s.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==u.return||u.return()}finally{if(r)throw o}}return e}}(t,n)||s(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,n){if(t){if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function c(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,n,e){return n&&c(t.prototype,n),e&&c(t,e),t}e.r(n),e.d(n,"Channel",(function(){return P})),e.d(n,"Serializer",(function(){return C})),e.d(n,"Socket",(function(){return R})),e.d(n,"LongPoll",(function(){return x})),e.d(n,"Ajax",(function(){return z})),e.d(n,"Presence",(function(){return F}));var h="undefined"!=typeof self?self:null,l="undefined"!=typeof window?window:null,v=h||l||void 0,d=0,O=1,p=2,T=3,m="closed",b="errored",I="joined",g="joining",w="leaving",E="phx_close",A="phx_error",N="phx_join",k="phx_reply",y="phx_leave",_=[E,A,N,k,y],M="longpoll",S="websocket",j=function(t){return"function"==typeof t?t:function(){return t}},D=function(){function t(n,e,i,r){a(this,t),this.channel=n,this.event=e,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return f(t,[{key:"resend",value:function(t){this.timeout=t,this.reset(),this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:"receive",value:function(t,n){return this.hasReceived(t)&&n(this.receivedResp.response),this.recHooks.push({status:t,callback:n}),this}},{key:"reset",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:"matchReceive",value:function(t){var n=t.status,e=t.response;t.ref,this.recHooks.filter((function(t){return t.status===n})).forEach((function(t){return t.callback(e)}))}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var t=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(n){t.cancelRefEvent(),t.cancelTimeout(),t.receivedResp=n,t.matchReceive(n)})),this.timeoutTimer=setTimeout((function(){t.trigger("timeout",{})}),this.timeout)}},{key:"hasReceived",value:function(t){return this.receivedResp&&this.receivedResp.status===t}},{key:"trigger",value:function(t,n){this.channel.trigger(this.refEvent,{status:t,response:n})}}]),t}(),P=function(){function t(n,e,i){var r=this;a(this,t),this.state=m,this.topic=n,this.params=j(e||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new D(this,N,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new L((function(){r.socket.isConnected()&&r.rejoin()}),this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError((function(){return r.rejoinTimer.reset()}))),this.stateChangeRefs.push(this.socket.onOpen((function(){r.rejoinTimer.reset(),r.isErrored()&&r.rejoin()}))),this.joinPush.receive("ok",(function(){r.state=I,r.rejoinTimer.reset(),r.pushBuffer.forEach((function(t){return t.send()})),r.pushBuffer=[]})),this.joinPush.receive("error",(function(){r.state=b,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()})),this.onClose((function(){r.rejoinTimer.reset(),r.socket.hasLogger()&&r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=m,r.socket.remove(r)})),this.onError((function(t){r.socket.hasLogger()&&r.socket.log("channel","error ".concat(r.topic),t),r.isJoining()&&r.joinPush.reset(),r.state=b,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()})),this.joinPush.receive("timeout",(function(){r.socket.hasLogger()&&r.socket.log("channel","timeout ".concat(r.topic," (").concat(r.joinRef(),")"),r.joinPush.timeout),new D(r,y,j({}),r.timeout).send(),r.state=b,r.joinPush.reset(),r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()})),this.on(k,(function(t,n){r.trigger(r.replyEventName(n),t)}))}return f(t,[{key:"join",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=t,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:"onClose",value:function(t){this.on(E,t)}},{key:"onError",value:function(t){return this.on(A,(function(n){return t(n)}))}},{key:"on",value:function(t,n){var e=this.bindingRef++;return this.bindings.push({event:t,ref:e,callback:n}),e}},{key:"off",value:function(t,n){this.bindings=this.bindings.filter((function(e){return!(e.event===t&&(void 0===n||n===e.ref))}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw new Error("tried to push '".concat(t,"' to '").concat(this.topic,"' before joining. Use channel.join() before pushing events"));var i=new D(this,t,(function(){return n}),e);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:"leave",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=w;var e=function(){t.socket.hasLogger()&&t.socket.log("channel","leave ".concat(t.topic)),t.trigger(E,"leave")},i=new D(this,y,j({}),n);return i.receive("ok",(function(){return e()})).receive("timeout",(function(){return e()})),i.send(),this.canPush()||i.trigger("ok",{}),i}},{key:"onMessage",value:function(t,n,e){return n}},{key:"isLifecycleEvent",value:function(t){return _.indexOf(t)>=0}},{key:"isMember",value:function(t,n,e,i){return!(this.topic!==t||i&&i!==this.joinRef()&&this.isLifecycleEvent(n)&&(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:t,event:n,payload:e,joinRef:i}),1))}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=g,this.joinPush.resend(t))}},{key:"trigger",value:function(t,n,e,i){var r=this.onMessage(t,n,e,i);if(n&&!r)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");for(var o=this.bindings.filter((function(n){return n.event===t})),s=0;s<o.length;s++)o[s].callback(r,e,i||this.joinRef())}},{key:"replyEventName",value:function(t){return"chan_reply_".concat(t)}},{key:"isClosed",value:function(){return this.state===m}},{key:"isErrored",value:function(){return this.state===b}},{key:"isJoined",value:function(){return this.state===I}},{key:"isJoining",value:function(){return this.state===g}},{key:"isLeaving",value:function(){return this.state===w}}]),t}(),C={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode:function(t,n){if(t.payload.constructor===ArrayBuffer)return n(this.binaryEncode(t));var e=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(e))},decode:function(t,n){if(t.constructor===ArrayBuffer)return n(this.binaryDecode(t));var e=o(JSON.parse(t),5);return n({join_ref:e[0],ref:e[1],topic:e[2],event:e[3],payload:e[4]})},binaryEncode:function(t){var n=t.join_ref,e=t.ref,i=t.event,r=t.topic,o=t.payload,s=this.META_LENGTH+n.length+e.length+r.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+s),a=new DataView(u),c=0;a.setUint8(c++,this.KINDS.push),a.setUint8(c++,n.length),a.setUint8(c++,e.length),a.setUint8(c++,r.length),a.setUint8(c++,i.length),Array.from(n,(function(t){return a.setUint8(c++,t.charCodeAt(0))})),Array.from(e,(function(t){return a.setUint8(c++,t.charCodeAt(0))})),Array.from(r,(function(t){return a.setUint8(c++,t.charCodeAt(0))})),Array.from(i,(function(t){return a.setUint8(c++,t.charCodeAt(0))}));var f=new Uint8Array(u.byteLength+o.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(o),u.byteLength),f.buffer},binaryDecode:function(t){var n=new DataView(t),e=n.getUint8(0),i=new TextDecoder;switch(e){case this.KINDS.push:return this.decodePush(t,n,i);case this.KINDS.reply:return this.decodeReply(t,n,i);case this.KINDS.broadcast:return this.decodeBroadcast(t,n,i)}},decodePush:function(t,n,e){var i=n.getUint8(1),r=n.getUint8(2),o=n.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,u=e.decode(t.slice(s,s+i));s+=i;var a=e.decode(t.slice(s,s+r));s+=r;var c=e.decode(t.slice(s,s+o));return s+=o,{join_ref:u,ref:null,topic:a,event:c,payload:t.slice(s,t.byteLength)}},decodeReply:function(t,n,e){var i=n.getUint8(1),r=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4),u=this.HEADER_LENGTH+this.META_LENGTH,a=e.decode(t.slice(u,u+i));u+=i;var c=e.decode(t.slice(u,u+r));u+=r;var f=e.decode(t.slice(u,u+o));u+=o;var h=e.decode(t.slice(u,u+s));u+=s;var l=t.slice(u,t.byteLength);return{join_ref:a,ref:c,topic:f,event:k,payload:{status:h,response:l}}},decodeBroadcast:function(t,n,e){var i=n.getUint8(1),r=n.getUint8(2),o=this.HEADER_LENGTH+2,s=e.decode(t.slice(o,o+i));o+=i;var u=e.decode(t.slice(o,o+r));return o+=r,{join_ref:null,ref:null,topic:s,event:u,payload:t.slice(o,t.byteLength)}}},R=function(){function t(n){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,t),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||1e4,this.transport=i.transport||v.WebSocket||x,this.defaultEncoder=C.encode.bind(C),this.defaultDecoder=C.decode.bind(C),this.closeWasClean=!1,this.unloaded=!1,this.binaryType=i.binaryType||"arraybuffer",this.transport!==x?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),l&&l.addEventListener&&l.addEventListener("unload",(function(t){e.conn&&(e.unloaded=!0,e.abnormalClose("unloaded"))})),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(t){return i.rejoinAfterMs?i.rejoinAfterMs(t):[1e3,2e3,5e3][t-1]||1e4},this.reconnectAfterMs=function(t){return e.unloaded?100:i.reconnectAfterMs?i.reconnectAfterMs(t):[10,50,100,150,200,250,500,1e3,2e3][t-1]||5e3},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=j(i.params||{}),this.endPoint="".concat(n,"/").concat(S),this.vsn=i.vsn||"2.0.0",this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new L((function(){e.teardown((function(){return e.connect()}))}),this.reconnectAfterMs)}return f(t,[{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var t=z.appendParams(z.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==t.charAt(0)?t:"/"===t.charAt(1)?"".concat(this.protocol(),":").concat(t):"".concat(this.protocol(),"://").concat(location.host).concat(t)}},{key:"disconnect",value:function(t,n,e){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(t,n,e)}},{key:"connect",value:function(t){var n=this;t&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=j(t)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return n.onConnOpen()},this.conn.onerror=function(t){return n.onConnError(t)},this.conn.onmessage=function(t){return n.onConnMessage(t)},this.conn.onclose=function(t){return n.onConnClose(t)})}},{key:"log",value:function(t,n,e){this.logger(t,n,e)}},{key:"hasLogger",value:function(){return null!==this.logger}},{key:"onOpen",value:function(t){var n=this.makeRef();return this.stateChangeCallbacks.open.push([n,t]),n}},{key:"onClose",value:function(t){var n=this.makeRef();return this.stateChangeCallbacks.close.push([n,t]),n}},{key:"onError",value:function(t){var n=this.makeRef();return this.stateChangeCallbacks.error.push([n,t]),n}},{key:"onMessage",value:function(t){var n=this.makeRef();return this.stateChangeCallbacks.message.push([n,t]),n}},{key:"onConnOpen",value:function(){this.hasLogger()&&this.log("transport","connected to ".concat(this.endPointURL())),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(t){return(0,o(t,2)[1])()}))}},{key:"resetHeartbeat",value:function(){var t=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return t.sendHeartbeat()}),this.heartbeatIntervalMs))}},{key:"teardown",value:function(t,n,e){var i=this;if(!this.conn)return t&&t();this.waitForBufferDone((function(){i.conn&&(n?i.conn.close(n,e||""):i.conn.close()),i.waitForSocketClosed((function(){i.conn&&(i.conn.onclose=function(){},i.conn=null),t&&t()}))}))}},{key:"waitForBufferDone",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==e&&this.conn&&this.conn.bufferedAmount?setTimeout((function(){n.waitForBufferDone(t,e+1)}),150*e):t()}},{key:"waitForSocketClosed",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==e&&this.conn&&this.conn.readyState!==T?setTimeout((function(){n.waitForSocketClosed(t,e+1)}),150*e):t()}},{key:"onConnClose",value:function(t){this.hasLogger()&&this.log("transport","close",t),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(n){return(0,o(n,2)[1])(t)}))}},{key:"onConnError",value:function(t){this.hasLogger()&&this.log("transport",t),this.triggerChanError(),this.stateChangeCallbacks.error.forEach((function(n){return(0,o(n,2)[1])(t)}))}},{key:"triggerChanError",value:function(){this.channels.forEach((function(t){t.isErrored()||t.isLeaving()||t.isClosed()||t.trigger(A)}))}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case d:return"connecting";case O:return"open";case p:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(t){this.off(t.stateChangeRefs),this.channels=this.channels.filter((function(n){return n.joinRef()!==t.joinRef()}))}},{key:"off",value:function(t){for(var n in this.stateChangeCallbacks)this.stateChangeCallbacks[n]=this.stateChangeCallbacks[n].filter((function(n){var e=o(n,1)[0];return-1===t.indexOf(e)}))}},{key:"channel",value:function(t){var n=new P(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this);return this.channels.push(n),n}},{key:"push",value:function(t){var n=this;if(this.hasLogger()){var e=t.topic,i=t.event,r=t.payload,o=t.ref,s=t.join_ref;this.log("push","".concat(e," ").concat(i," (").concat(s,", ").concat(o,")"),r)}this.isConnected()?this.encode(t,(function(t){return n.conn.send(t)})):this.sendBuffer.push((function(){return n.encode(t,(function(t){return n.conn.send(t)}))}))}},{key:"makeRef",value:function(){var t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}},{key:"sendHeartbeat",value:function(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void this.abnormalClose("heartbeat timeout");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}},{key:"abnormalClose",value:function(t){this.closeWasClean=!1,this.conn.readyState===O&&this.conn.close(1e3,t)}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(t){return t()})),this.sendBuffer=[])}},{key:"onConnMessage",value:function(t){var n=this;this.decode(t.data,(function(t){var e=t.topic,i=t.event,r=t.payload,s=t.ref,u=t.join_ref;s&&s===n.pendingHeartbeatRef&&(n.pendingHeartbeatRef=null),n.hasLogger()&&n.log("receive","".concat(r.status||""," ").concat(e," ").concat(i," ").concat(s&&"("+s+")"||""),r);for(var a=0;a<n.channels.length;a++){var c=n.channels[a];c.isMember(e,i,r,u)&&c.trigger(i,r,s,u)}for(var f=0;f<n.stateChangeCallbacks.message.length;f++)(0,o(n.stateChangeCallbacks.message[f],2)[1])(t)}))}},{key:"leaveOpenTopic",value:function(t){var n=this.channels.find((function(n){return n.topic===t&&(n.isJoined()||n.isJoining())}));n&&(this.hasLogger()&&this.log("transport",'leaving duplicate topic "'.concat(t,'"')),n.leave())}}]),t}(),x=function(){function t(n){a(this,t),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(n),this.readyState=d,this.poll()}return f(t,[{key:"normalizeEndpoint",value:function(t){return t.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+S),"$1/"+M)}},{key:"endpointURL",value:function(){return z.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(){this.close(),this.readyState=d}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry()}},{key:"poll",value:function(){var t=this;this.readyState!==O&&this.readyState!==d||z.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),(function(n){if(n){var e=n.status,i=n.token,r=n.messages;t.token=i}else e=0;switch(e){case 200:r.forEach((function(n){return t.onmessage({data:n})})),t.poll();break;case 204:t.poll();break;case 410:t.readyState=O,t.onopen(),t.poll();break;case 403:t.onerror(),t.close();break;case 0:case 500:t.onerror(),t.closeAndRetry();break;default:throw new Error("unhandled poll status ".concat(e))}}))}},{key:"send",value:function(t){var n=this;z.request("POST",this.endpointURL(),"application/json",t,this.timeout,this.onerror.bind(this,"timeout"),(function(t){t&&200===t.status||(n.onerror(t&&t.status),n.closeAndRetry())}))}},{key:"close",value:function(t,n){this.readyState=T,this.onclose()}}]),t}(),z=function(){function t(){a(this,t)}return f(t,null,[{key:"request",value:function(t,n,e,i,r,o,s){if(v.XDomainRequest){var u=new XDomainRequest;this.xdomainRequest(u,t,n,i,r,o,s)}else{var a=new v.XMLHttpRequest;this.xhrRequest(a,t,n,e,i,r,o,s)}}},{key:"xdomainRequest",value:function(t,n,e,i,r,o,s){var u=this;t.timeout=r,t.open(n,e),t.onload=function(){var n=u.parseJSON(t.responseText);s&&s(n)},o&&(t.ontimeout=o),t.onprogress=function(){},t.send(i)}},{key:"xhrRequest",value:function(t,n,e,i,r,o,s,u){var a=this;t.open(n,e,!0),t.timeout=o,t.setRequestHeader("Content-Type",i),t.onerror=function(){u&&u(null)},t.onreadystatechange=function(){if(t.readyState===a.states.complete&&u){var n=a.parseJSON(t.responseText);u(n)}},s&&(t.ontimeout=s),t.send(r)}},{key:"parseJSON",value:function(t){if(!t||""===t)return null;try{return JSON.parse(t)}catch(n){return console&&console.log("failed to parse JSON response",t),null}}},{key:"serialize",value:function(t,n){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var o=n?"".concat(n,"[").concat(i,"]"):i,s=t[i];"object"===r(s)?e.push(this.serialize(s,o)):e.push(encodeURIComponent(o)+"="+encodeURIComponent(s))}return e.join("&")}},{key:"appendParams",value:function(t,n){if(0===Object.keys(n).length)return t;var e=t.match(/\?/)?"&":"?";return"".concat(t).concat(e).concat(this.serialize(n))}}]),t}();z.states={complete:4};var F=function(){function t(n){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,t);var r=i.events||{state:"presence_state",diff:"presence_diff"};this.state={},this.pendingDiffs=[],this.channel=n,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(r.state,(function(n){var i=e.caller,r=i.onJoin,o=i.onLeave,s=i.onSync;e.joinRef=e.channel.joinRef(),e.state=t.syncState(e.state,n,r,o),e.pendingDiffs.forEach((function(n){e.state=t.syncDiff(e.state,n,r,o)})),e.pendingDiffs=[],s()})),this.channel.on(r.diff,(function(n){var i=e.caller,r=i.onJoin,o=i.onLeave,s=i.onSync;e.inPendingSyncState()?e.pendingDiffs.push(n):(e.state=t.syncDiff(e.state,n,r,o),s())}))}return f(t,[{key:"onJoin",value:function(t){this.caller.onJoin=t}},{key:"onLeave",value:function(t){this.caller.onLeave=t}},{key:"onSync",value:function(t){this.caller.onSync=t}},{key:"list",value:function(n){return t.list(this.state,n)}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:"syncState",value:function(t,n,e,i){var r=this,o=this.clone(t),s={},u={};return this.map(o,(function(t,e){n[t]||(u[t]=e)})),this.map(n,(function(t,n){var e=o[t];if(e){var i=n.metas.map((function(t){return t.phx_ref})),a=e.metas.map((function(t){return t.phx_ref})),c=n.metas.filter((function(t){return a.indexOf(t.phx_ref)<0})),f=e.metas.filter((function(t){return i.indexOf(t.phx_ref)<0}));c.length>0&&(s[t]=n,s[t].metas=c),f.length>0&&(u[t]=r.clone(e),u[t].metas=f)}else s[t]=n})),this.syncDiff(o,{joins:s,leaves:u},e,i)}},{key:"syncDiff",value:function(t,n,e,r){var o=n.joins,s=n.leaves,u=this.clone(t);return e||(e=function(){}),r||(r=function(){}),this.map(o,(function(t,n){var r=u[t];if(u[t]=n,r){var o,s=u[t].metas.map((function(t){return t.phx_ref})),a=r.metas.filter((function(t){return s.indexOf(t.phx_ref)<0}));(o=u[t].metas).unshift.apply(o,i(a))}e(t,r,n)})),this.map(s,(function(t,n){var e=u[t];if(e){var i=n.metas.map((function(t){return t.phx_ref}));e.metas=e.metas.filter((function(t){return i.indexOf(t.phx_ref)<0})),r(t,e,n),0===e.metas.length&&delete u[t]}})),u}},{key:"list",value:function(t,n){return n||(n=function(t,n){return n}),this.map(t,(function(t,e){return n(t,e)}))}},{key:"map",value:function(t,n){return Object.getOwnPropertyNames(t).map((function(e){return n(e,t[e])}))}},{key:"clone",value:function(t){return JSON.parse(JSON.stringify(t))}}]),t}(),L=function(){function t(n,e){a(this,t),this.callback=n,this.timerCalc=e,this.timer=null,this.tries=0}return f(t,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.tries=t.tries+1,t.callback()}),this.timerCalc(this.tries+1))}}]),t}()}])},40:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));var i=e(19);function r(t,n){var e=[];return Object(i.a)(t,(function(t,i){e.push(n(t,i))})),e}function o(t){return r(t,(function(t,n){return[n,t]}))}},435:function(t,n,e){t.exports=e.p+"5e83cb28291edefe5f467e9b31453b97.mp3"},436:function(t,n,e){var i,r;(r=function(){"use strict";var t={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},n=function(t){var n=-t.getTimezoneOffset();return null!==n?n:0},e=function(){var e=n(new Date(t.BASELINE_YEAR,0,2)),i=n(new Date(t.BASELINE_YEAR,5,2)),r=e-i;return r<0?e+",1":r>0?i+",1,s":e+",0"},i=function(t){for(var n=new Date(t,0,1,0,0,1,0).getTime(),e=new Date(t,12,31,23,59,59).getTime(),i=n,r=new Date(i).getTimezoneOffset(),s=null,u=null;i<e-864e5;){var a=new Date(i),c=a.getTimezoneOffset();c!==r&&(c<r&&(s=a),c>r&&(u=a),r=c),i+=864e5}return!(!s||!u)&&{s:o(s).getTime(),e:o(u).getTime()}},o=function n(e,i,r){void 0===i&&(i=t.DAY,r=t.HOUR);for(var o=new Date(e.getTime()-i).getTime(),s=e.getTime()+i,u=new Date(o).getTimezoneOffset(),a=o,c=null;a<s-r;){var f=new Date(a);if(f.getTimezoneOffset()!==u){c=f;break}a+=r}return i===t.DAY?n(c,t.HOUR,t.MINUTE):i===t.HOUR?n(c,t.MINUTE,t.SECOND):c},s=function(n){var e=function(){for(var t=[],n=0;n<r.olson.dst_rules.years.length;n++){var e=i(r.olson.dst_rules.years[n]);t.push(e)}return t}();return function(t){for(var n=0;n<t.length;n++)if(!1!==t[n])return!0;return!1}(e)?function(n,e){for(var i=function(i){for(var r=0,o=0;o<n.length;o++)if(i.rules[o]&&n[o]){if(!(n[o].s>=i.rules[o].s&&n[o].e<=i.rules[o].e)){r="N/A";break}if(r=0,r+=Math.abs(n[o].s-i.rules[o].s),(r+=Math.abs(i.rules[o].e-n[o].e))>t.MAX_SCORE){r="N/A";break}}return function(t,n,e,i){if("N/A"!==e)return e;if("Asia/Beirut"===n){if("Africa/Cairo"===i.name&&13983768e5===t[6].s&&14116788e5===t[6].e)return 0;if("Asia/Jerusalem"===i.name&&13959648e5===t[6].s&&14118588e5===t[6].e)return 0}else if("America/Santiago"===n){if("America/Asuncion"===i.name&&14124816e5===t[6].s&&1397358e6===t[6].e)return 0;if("America/Campo_Grande"===i.name&&14136912e5===t[6].s&&13925196e5===t[6].e)return 0}else if("America/Montevideo"===n){if("America/Sao_Paulo"===i.name&&14136876e5===t[6].s&&1392516e6===t[6].e)return 0}else if("Pacific/Auckland"===n&&"Pacific/Fiji"===i.name&&14142456e5===t[6].s&&13961016e5===t[6].e)return 0;return e}(n,e,r,i)},o={},s=r.olson.dst_rules.zones,u=s.length,a=t.AMBIGUITIES[e],c=0;c<u;c++){var f=s[c],h=i(s[c]);"N/A"!==h&&(o[f.name]=h)}for(var l in o)if(o.hasOwnProperty(l))for(var v=0;v<a.length;v++)if(a[v]===l)return l;return e}(e,n):n};return{determine:function(){var i=function(){var t,n;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(t=Intl.DateTimeFormat())&&void 0!==t.resolvedOptions)return(n=t.resolvedOptions().timeZone)&&(n.indexOf("/")>-1||"UTC"===n)&&0!=n.indexOf("Etc")?n:void 0}();return i||(i=r.olson.timezones[e()],void 0!==t.AMBIGUITIES[i]&&(i=s(i))),{name:function(){return i},stdTimezoneOffset:function(){return-e().split(",")[0]},timezoneOffset:function(){return-n(new Date)}}}}}()).olson=r.olson||{},r.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},r.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},void 0!==t.exports?t.exports=r:null!==e(437)&&null!=e(438)?void 0===(i=function(){return r}.apply(n,[]))||(t.exports=i):window.jstz=r},437:function(t,n){t.exports=function(){throw new Error("define cannot be used indirect")}},438:function(t,n){(function(n){t.exports=n}).call(this,{})},439:function(t,n){t.exports='.__talkjs_popup {\n  position: fixed;\n  right: 0;\n  border: 0;\n  z-index: 50000;\n  bottom: 77px;\n  width: 390px;\n  height: calc(75% - 77px);\n  height: calc(75vh - 77px);\n}\n@media all and (max-width: 420px) and (min-width: 1px), all and (max-height: 420px) and (min-width: 1px) {\n  .__talkjs_popup {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    left: 0;\n    top: 0;\n    bottom: 0;\n  }\n}\n.__talkjs_launcher {\n  display: block;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  z-index: 1000;\n  background-color: #0785f2;\n  background-position: center 17px;\n  background-size: 30px 30px;\n  background-repeat: no-repeat;\n  color: #fff;\n  text-align: center;\n  box-shadow: 2px 2px 19px 1px rgba(0,0,0,0.1);\n}\n.__talkjs_launcher.open {\n  background-size: 18px;\n  background-position: center 21px;\n  background-image: url("CLOSE");\n}\n@media all and (max-width: 420px), all and (max-height: 420px) {\n  .__talkjs_launcher.open {\n    display: none;\n  }\n}\n.__talkjs_launcher.closed {\n  background-image: url("OPEN");\n}\n.__talkjs_launcher:hover {\n  box-shadow: 2px 2px 19px 1px rgba(0,0,0,0.25);\n}\n'},440:function(t,n){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjMxMnB4IiBoZWlnaHQ9IjMxMnB4IiB2aWV3Qm94PSIwIDAgMzEyIDMxMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik0xNzguNTAwNjgyLDE1NS44NjI2MTQgTDMwNi41Nzk2ODIsMjguNDgzMTU5MSBDMzEyLjcyMDEzNiwyMi40MDQ4ODY0IDMxMi43MjAxMzYsMTIuNTY0NjEzNiAzMDYuNTc5NjgyLDYuNTAxODg2MzYgQzMwMC40NTQ3NzMsMC40MjM2MTM2MzYgMjkwLjUwNTY4MiwwLjQyMzYxMzYzNiAyODQuMzgwNzczLDYuNTAxODg2MzYgTDE1Ni40MTA1OTEsMTMzLjc3MjUyMyBMMjcuMjU4OTU0NSw0LjYwNTM0MDkxIEMyMS4xMzQwNDU1LC0xLjUzNTExMzY0IDExLjE4NDk1NDUsLTEuNTM1MTEzNjQgNS4wNjAwNDU0NSw0LjYwNTM0MDkxIEMtMS4wNjQ4NjM2NCwxMC43NjEzNDA5IC0xLjA2NDg2MzY0LDIwLjcyNTk3NzMgNS4wNjAwNDU0NSwyNi44NjY0MzE4IEwxMzQuMTE4NDA5LDE1NS45NDAzNDEgTDQuNTkzNjgxODIsMjg0Ljc0OTk3NyBDLTEuNTMxMjI3MjcsMjkwLjgyODI1IC0xLjUzMTIyNzI3LDMwMC42Njg1MjMgNC41OTM2ODE4MiwzMDYuNzMxMjUgQzEwLjcxODU5MDksMzEyLjgwOTUyMyAyMC42Njc2ODE4LDMxMi44MDk1MjMgMjYuNzkyNTkwOSwzMDYuNzMxMjUgTDE1Ni4yMDg1LDE3OC4wMzA0MzIgTDI4NC44NDcxMzYsMzA2LjY4NDYxNCBDMjkwLjk3MjA0NSwzMTIuODI1MDY4IDMwMC45MjExMzYsMzEyLjgyNTA2OCAzMDcuMDQ2MDQ1LDMwNi42ODQ2MTQgQzMxMy4xNzA5NTUsMzAwLjUyODYxNCAzMTMuMTcwOTU1LDI5MC41NjM5NzcgMzA3LjA0NjA0NSwyODQuNDIzNTIzIEwxNzguNTAwNjgyLDE1NS44NjI2MTQgTDE3OC41MDA2ODIsMTU1Ljg2MjYxNCBaIiBpZD0iQ2xvc2UiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+"},441:function(t,n){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQyMHB4IiBoZWlnaHQ9IjQyMHB4IiB2aWV3Qm94PSIwIDAgNDIwIDQyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJTaGFwZSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xODcuNDAyNzY1LDMyNC41MzY1NDcgTDMwNS45NTAxMzgsNDE3LjM5ODY1NiBDMzA3Ljg5MDk1OCw0MTguODg0ODcgMzA5LjA3OTkyOCw0MTkuNjM2NzE5IDMxMC4yMzM5MjksNDE5LjYzNjcxOSBDMzEzLjUyMTA4Myw0MTkuNjM2NzE5IDMxNC41MDAyMzYsNDE3LjQxNjE0MSAzMTQuNTAwMjM2LDQxMy43MjY4MzUgTDMxNC41MDAyMzYsMzI1LjkwMDM2NyBDMzE0LjUwMDIzNiwzMTkuNjkzMjQgMzE4LjU3NDIwOSwzMTQuNzYyNTA5IDMyNC4wODE5NDEsMzE0Ljc2MjUwOSBMMzY3LjE4MjEyOSwzMTQuNzI3NTM5IEM0MDUuOTgxMDQxLDMxNC43Mjc1MzkgNDE5LjYzNjcxOSwyOTUuNTk5MDk5IDQxOS42MzY3MTksMjc5Ljc1NzgxMiBMNDE5LjYzNjcxOSwzNC45Njk3MjY2IEM0MTkuNjM2NzE5LDE3LjQ4NDg2MzMgNDA2LjU1ODA0MSwwIDM2Ni45MzczNDEsMCBMNTIuMjYyMjU2MywwIEMxNC4wMjI4NjA0LDAgMCwxNi45NDI4MzI1IDAsMzQuOTY5NzI2NiBMMCwyNzkuNzU3ODEyIEMwLDI5Ni43MDA2NDUgMTQuNDc3NDY2OCwzMTQuNzI3NTM5IDUyLjQ1NDU4OTgsMzE0LjcyNzUzOSBMMTU3LjM2Mzc3LDMxNC43Mjc1MzkgQzE1Ny4zNjM3NywzMTQuNzI3NTM5IDE3OS4zMDcyNzMsMzE1LjMzOTUwOSAxODcuNDAyNzY1LDMyNC41MzY1NDcgTDE4Ny40MDI3NjUsMzI0LjUzNjU0NyBaIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgIDxlbGxpcHNlIGlkPSJPdmFsLTEiIGZpbGw9IiMwNzg1RjIiIGN4PSIxMTUuMzQ3NjYxIiBjeT0iMTYyLjE4NDU1NiIgcng9IjI4LjM0NzY2MDgiIHJ5PSIyOC4xODQ1NTU3Ij48L2VsbGlwc2U+CiAgICAgICAgICAgIDxlbGxpcHNlIGlkPSJPdmFsLTEiIGZpbGw9IiMwNzg1RjIiIGN4PSIyMTAuNjk4ODg0IiBjeT0iMTYyLjE4NDU1NiIgcng9IjI4LjM0NzY2MDgiIHJ5PSIyOC4xODQ1NTU3Ij48L2VsbGlwc2U+CiAgICAgICAgICAgIDxlbGxpcHNlIGlkPSJPdmFsLTEiIGZpbGw9IiMwNzg1RjIiIGN4PSIzMDYuMDUwMTA2IiBjeT0iMTYyLjE4NDU1NiIgcng9IjI4LjM0NzY2MDgiIHJ5PSIyOC4xODQ1NTU3Ij48L2VsbGlwc2U+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},442:function(t,n,e){"use strict";e.r(n),n.default={ar:{DESKTOP_NOTIFICATIONS_ERROR:"لا يمكن تمكين إشعارات سطح المكتب نظرًا لأن المتصفح يعمل على حظرها بشكل نشط. جرّب البحث في الإعدادات أو استخدام متصفح آخر.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"إعلام $APPNAME التجريبي",DESKTOP_NOTIFICATIONS_DEMO_BODY:"إذا أبقيت علامة تبويب المتصفح مفتوحة ، فسترى هذا ينبثق عندما يتحدث شخص معك."},bg:{DESKTOP_NOTIFICATIONS_ERROR:"Не можете да активирате известията на работния плот, защото браузърът ви активно ги блокира. Опитайте да погледнете в настройките или да използвате друг браузър.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME демо известие",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ако държите раздела на браузъра си отворен, ще видите този изскачащ прозорец, когато някой говори с вас."},bs:{DESKTOP_NOTIFICATIONS_ERROR:"Desktop notifikacije nisu omogućene jer ih vaš preglednik aktivno blokira. Pokušajte pogledati postavke ili koristiti neki drugi preglednik.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikacija",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ako karticu preglednika ostavite otvorenu, pojavit će se ovaj pop-up kada netko razgovara s vama."},cs:{DESKTOP_NOTIFICATIONS_ERROR:"Nelze povolit upozornění na ploše, protože váš prohlížeč je aktivně blokuje. Zkuste se podívat na nastavení nebo zkuste použít jiný prohlížeč.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikace",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Pokud necháte kartu prohlížeče otevřenou, uvidíte tento popup jakmile s vámi bude někdo mluvit."},da:{DESKTOP_NOTIFICATIONS_ERROR:"Kan ikke aktivere skrivebordsmeddelelser, fordi din browser aktivt blokerer dem. Prøv at kigge i indstillingerne eller benyt en anden browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demomeddelelse",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Hvis du holder dit browser-faneblad åben, vil du se det her komme op, når nogen taler til dig."},de:{DESKTOP_NOTIFICATIONS_ERROR:"Desktop-Benachrichtigungen können nicht aktiviert werden, da Ihr Browser sie aktiv blockiert. Versuchen Sie, in den Einstellungen nachzuschlagen oder einen anderen Browser zu verwenden.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME Demo-Benachrichtigung",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Wenn Sie Ihre Browser-Registerkarte geöffnet lassen, wird dies angezeigt, wenn jemand mit Ihnen spricht."},el:{DESKTOP_NOTIFICATIONS_ERROR:"Δεν είναι δυνατή η ενεργοποίηση των ειδοποιήσεων της επιφάνειας εργασίας,επειδή το πρόγραμμα περιήγησης τις μπλοκάρει. Δοκιμάστε να τσεκάρετε τις ρυθμίσεις η χρησιμοποιήστε άλλο πρόγραμμα περιήγησης.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME Δοκιμαστική επίδειξη",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Αν διατηρήσετε ανοιχτή τη σελίδα του προγράμματος περιήγησης, θα δείτε αυτό το pop up (παράθυρο) όταν κάποιος σας μιλάει."},en:{DESKTOP_NOTIFICATIONS_ERROR:"Can't enable desktop notifications because your browser actively blocks them. Try looking in the settings or using a different browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notification",DESKTOP_NOTIFICATIONS_DEMO_BODY:"If you keep your browser tab open, you'll see this pop up when someone talks to you."},es:{DESKTOP_NOTIFICATIONS_ERROR:"No se logró habilitar las notificaciones de escritorio, comprueba que tu navegador no las esté bloqueando o intenta con otro navegador.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME notificación de prueba",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Si dejas esta pestaña abierta, verás este pop up cuando alguien te hable."},et:{DESKTOP_NOTIFICATIONS_ERROR:"Töölaua teavitusi ei saa lubada, kuna Teie brauser blokeerib need aktiivselt. Proovige muuta seadeid või kasutada mõnda muud brauserit.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo teavitus",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Kui hoiate oma brauseri vahekaardi lahti ja näete seda hüpikakent, siis keegi soovib Teiega rääkida."},fa:{DESKTOP_NOTIFICATIONS_ERROR:"خطا در فعال سازی اعلان های دسکتا‌پ، مرورگر شما آنها را مسدود می کند سعی کنید تنظیمات مرورگر را تغییر دهدید یا از یک مرورگر دیگر استفاده کنید.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"نوتیفیکیشن دمو $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"اگر صفحه ی مرورگر را باز نگهدارید این را موقعه ای که کسی با شما صحبت کند خواهید دید"},fi:{DESKTOP_NOTIFICATIONS_ERROR:"Työpöydän ilmoituksia ei voitu kytkeä päälle, koska selaimesi estää sen. Koeta tutkia sen asetuksia tai vaihda selainta.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo ilmoitus",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Jos pidät tämän sivun auki, näet vastaavan ilmoituksen kun joku puhuu sinulle."},fr:{DESKTOP_NOTIFICATIONS_ERROR:"Impossible d'activer les notifications sur votre ordinateur car votre navigateur les bloque. Essayez de changer ses paramètres ou de changer de navigateur.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"Notification de démonstration $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Si vous maintenez l'onglet ouvert dans votre navigateur vous verrez apparaître une alerte lorsque quelqu'un vous parlera."},he:{DESKTOP_NOTIFICATIONS_ERROR:"לא ניתן להפעיל התראות בשולחן העבודה מכיוון שהדפדפן שלך חוסם אותן באופן פעיל. נסה להסתכל בהגדרות או להשתמש בדפדפן אחר.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME הודעה על הדגמה",DESKTOP_NOTIFICATIONS_DEMO_BODY:"אם אתה שומר על כרטיסיית הדפדפן שלך פתוחה, תראה את זה צץ כשמישהו ידבר איתך."},hi:{DESKTOP_NOTIFICATIONS_ERROR:"डेस्कटॉप सूचनाएं सक्षम नहीं कर सकता क्योंकि आपका ब्राउज़र सक्रिय रूप से उन्हें ब्लॉक करता है। सेटिंग्स में देखने या एक अलग ब्राउज़र का उपयोग करने का प्रयास करें।",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME डेमो अधिसूचना",DESKTOP_NOTIFICATIONS_DEMO_BODY:"यदि आप अपना ब्राउज़र टैब खुला रखते हैं, तो यह पॉप अप आपको तब दिखाई देगा जब कोई आपसे बात करेगा।"},hr:{DESKTOP_NOTIFICATIONS_ERROR:"Desktop notifikacije nisu omogućene jer ih vaš preglednik aktivno blokira. Pokušajte pogledati postavke ili koristiti neki drugi preglednik.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikacija",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ako karticu preglednika ostavite otvorenu, pojavit će se ovaj pop-up kada netko razgovara s vama."},hu:{DESKTOP_NOTIFICATIONS_ERROR:"Azért nem tudja bekapcsolni az asztali értesítések funkciót, mert böngészője aktívan blokkolja azt. Tekintse meg a beállításokat vagy használjon másik böngészőt.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo értesítés",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ha nyitva hagyja böngészőjét, felugró ablak fog megjelenni, ha valaki beszélni szeretne Önnel."},id:{DESKTOP_NOTIFICATIONS_ERROR:"Tidak dapat mengaktifkan pemberitahuan desktop karena browser Anda secara aktif memblokir mereka. Coba cari di pengaturan atau menggunakan browser yang berbeda.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"pemberitahuan demo $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Jika Anda membiarkan tab browser tetap terbuka, Anda akan melihat ini muncul ketika seseorang berbicara kepada Anda."},it:{DESKTOP_NOTIFICATIONS_ERROR:"Impossibile abilitare le notifiche desktop perché il browser le blocca attivamente. Prova a cercare le impostazioni o utilizzare un browser diverso.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notification",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Se si mantiene aperta la scheda del browser, questo verrà visualizzato quando qualcuno ti parla."},ja:{DESKTOP_NOTIFICATIONS_ERROR:"デスクトップの通知はブロックされているため、デスクトップの通知を有効にできません。設定を確認するか、別のブラウザを使用してください。",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME デモ通知",DESKTOP_NOTIFICATIONS_DEMO_BODY:"ブラウザのタブを開いたままにしておくと、誰かがあなたに話しかけたときにこのポップアップが表示されます。"},ka:{DESKTOP_NOTIFICATIONS_ERROR:"შეუძლებელია დესკტოპის შეტკობინებების ჩართვა. ეს ბრაუზერი ბლოკავს მათ. სცადე ცვლილება ოპციებიდან ან გამოიყენე სხვა ბრაუზერი.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME შეტყობინებების დემო ვერსია",DESKTOP_NOTIFICATIONS_DEMO_BODY:"თუ დატოვებ ბრაუზერის ფანჯარას გახსნილს, როცა ვიღაც მოგწერს საუბარი ამოვარდება დესკტოპზე."},ko:{DESKTOP_NOTIFICATIONS_ERROR:"데스크톱 알림을 표시할 수 없습니다. 브라우저 설정을 확인하거나 다른 브라우저를 사용해주세요.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME 데모 알림",DESKTOP_NOTIFICATIONS_DEMO_BODY:"브라우저 탭을 열어 둔 상태에서 누군가 대화 할 때 이 팝업이 표시됩니다."},nb:{DESKTOP_NOTIFICATIONS_ERROR:"Kan ikke aktivere skrivebords varsler fordi nettleseren din aktivt blokkerer dem. Prøv å se i innstillingene eller bruke en annen nettleser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo varslinger",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Hvis du holder nettleservinduet åpent, vil du se dette varsel når noen snakker til deg."},nl:{DESKTOP_NOTIFICATIONS_ERROR:"Desktop notificaties kunnen niet geactiveerd worden omdat de browser het blokkeert. Check de instellingen van je browser of probeer een andere browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notificatie",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Als je je browser open houdt, zie je deze popup als iemand tegen je praat."},pl:{DESKTOP_NOTIFICATIONS_ERROR:"Nie można aktywować powiadomień, ponieważ twoja przeglądarka je blokuje. Proszę zmienić ustawienie lub spróbować innej przeglądarki.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME przykładowe powiadomienie",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Jeśli zostawisz tę kartę otwartą, zobaczysz takie powiadomienie, gdy ktoś napisze do Ciebie."},pt:{DESKTOP_NOTIFICATIONS_ERROR:"Não é possível ativar as notificações da área de trabalho porque seu navegador as bloqueia. Tente procurar nas configurações ou usar um navegador diferente.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME notificação de demonstração",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Se você mantiver a guia do navegador aberta, verá essa mensagem quando alguém falar com você."},ro:{DESKTOP_NOTIFICATIONS_ERROR:"Nu se pot activa notificările de pe desktop deoarece browserul dvs. le blochează în mod activ. Încercați să căutați în setări sau utilizând un alt browser.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"Notificare de debit $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Dacă țineți fișa browserului deschis, veți vedea acest pop-up atunci când cineva vorbește cu dvs."},ru:{DESKTOP_NOTIFICATIONS_ERROR:"Невозможно включить оповещения, потому что ваш браузер активно блокирует их. Проверьте ваши настройки или попробуйте другой браузер.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME демо-оповещение",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Если вкладка вашего браузера открыта, вы увидите всплывающее окошко оповещения когда кто-то отправит вам сообщение."},sq:{DESKTOP_NOTIFICATIONS_ERROR:"Nuk mund të aktivizohen njoftimet në desktop sepse shfletuesi juaj i bllokon ato në mënyrë aktive. Provoni të shikoni cilësimet ose përdorni një shfletues të ndryshëm.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME njoftime në desktop",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Lënia e skedës së shfletuesit tuaj të hapur do të pop-up kur dikush flet me ju."},sr:{DESKTOP_NOTIFICATIONS_ERROR:"Desktop notifikacije nisu omogućene jer ih vaš pregledač aktivno blokira. Pokušajte pogledati postavke ili koristiti neki drugi pregledač.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demo notifikacija",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Ako karticu pregledača ostavite otvorenu, pojaviće se ovaj pop-up kada neko razgovara s vama."},sv:{DESKTOP_NOTIFICATIONS_ERROR:"Kan inte aktivera notiser eftersom din webbläsare aktivt blockerar dem. Se över inställningarna eller använd en annan webbläsare.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME demonotis",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Om du har fliken i webbläsaren öppen så kommer den här notisen visas när någon pratar med dig."},tr:{DESKTOP_NOTIFICATIONS_ERROR:"Tarayıcınız aktif olarak engellediğinden masaüstü bildirimlerini etkinleştiremiyoruz. Ayarları kontrol etmeyi veya farklı bir tarayıcı kullanmayı deneyebilirsiniz.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME test bildirimi",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Eğer tarayıcınızın penceresini açık tutarsanız biri mesaj yazdığında bu bildirimi göreceksiniz."},uk:{DESKTOP_NOTIFICATIONS_ERROR:"Неможливо ввімкнути сповіщення на робочому столі, оскільки ваш веб-переглядач активно їх блокує. Спробуйте переглянути налаштування або використовувати інший браузер.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"Демо-повідомлення про $APPNAME",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Якщо ви відкриєте вкладку веб-переглядача відкритою, ви побачите це спливаюче вікно, коли хтось спілкується з вами."},vi:{DESKTOP_NOTIFICATIONS_ERROR:"Không thể bật thông báo trên màn hình vì trình duyệt của bạn đang tắt chức năng này. Hãy thử tìm trong cài đặt trình duyệt hoặc sử dụng một trình duyệt khác.",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME thông báo thử nghiệm",DESKTOP_NOTIFICATIONS_DEMO_BODY:"Nếu bạn giữ tab trình duyệt của bạn mở, bạn sẽ thấy cửa sổ bật lên khi ai đó nói chuyện với bạn."},zh:{DESKTOP_NOTIFICATIONS_ERROR:"因浏览器设置为阻止，所以无法激活桌面提醒 。请去设置里查看或者尝试其他的浏览器。",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME 演示提醒",DESKTOP_NOTIFICATIONS_DEMO_BODY:"只要保持浏览器开着，如果有人和你对话，将会自动弹出对话窗口。"},"zh-tw":{DESKTOP_NOTIFICATIONS_ERROR:"無法啟用桌面通知，因為您的瀏覽器主動阻止它們。 嘗試查看設置或使用其他瀏覽器。",DESKTOP_NOTIFICATIONS_DEMO_TITLE:"$APPNAME 演示通知",DESKTOP_NOTIFICATIONS_DEMO_BODY:"如果您持續打開瀏覽器標籤頁，當有人與您通話時，您會看到此彈出窗口。"}}},46:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return s})),e.d(n,"a",(function(){return u}));var i=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var i=Array(t),r=0;for(n=0;n<e;n++)for(var o=arguments[n],s=0,u=o.length;s<u;s++,r++)i[r]=o[s];return i};function r(t,n){return t.reduce((function(t,e,i){return t.concat(n(e,i))}),[])}function o(t,n){return i(t).sort((function(t,e){var i=n(t),r=n(e);return i<r?-1:i==r?0:1}))}function s(t,n){for(var e=[],i=Math.min(t.length,n.length),r=0;r<i;r++)e[r]=[t[r],n[r]];return e}function u(t,n){for(var e=[],i=[],r=0;r<t.length;r++)n(t[r])?e.push(t[r]):i.push(t[r]);return[e,i]}},527:function(t,n,e){"use strict";e.r(n);var i=e(2),r=e(6),o=function(t,n){this.user=t;var e=(n=Object(r.d)(n,["undefined","object"],'Conversation.setParticipants: optional field "settings" is given but not an object.'))||{access:void 0,notify:void 0},i=e.access,o=e.notify;i=Object(r.d)(i,["undefined","string"],'Conversation.setParticipants: optional field "settings.access" is given but not one of "ReadWrite" or "Read".',[function(t){return void 0===t||"Read"===t||"ReadWrite"===t}]),o=Object(r.d)(o,["undefined","boolean"],'Conversation.setParticipants: optional field "settings.notify" is given but not a boolean.'),this.participationSettings={access:i,notify:o},this.participationSetting=this.participationSettings},s=e(35);function u(t){return[t=(t=Object(r.d)(t,["string","number"],'User: required field "id" is not given or not a string or a number.',[r.b])).toString(),Object(s.a)(t)+"_n"]}var a=function(t){var n,e,i,o,s;if(void 0===t&&(t={}),"string"==typeof(s=t)||s instanceof String||"number"==typeof s||s instanceof Number)this.__sync=!1,n=u(t),this.id=n[0],this.internalId=n[1];else{this.__sync=!0;var a=t.id,c=t.name,f=t.email,h=t.phone,l=t.photoUrl,v=t.welcomeMessage,d=t.role,O=t.configuration,p=t.custom,T=t.availabilityText,m=t.locale;e=u(a),this.id=e[0],this.internalId=e[1],Object(r.c)(this,"email",f,["null","undefined","string","string[]"],"User "+a+': optional field "email" is not a string or array of strings. Pass `null` if you\'re sure the user should never get emails',[r.b]),Object(r.c)(this,"phone",h,["null","undefined","string","string[]"],"User "+a+': optional field "phone" is given but not a string or array of strings.',[r.b]);for(var b=0,I=[].concat(void 0===this.phone||null===this.phone?[]:this.phone);b<I.length;b++){var g=I[b];if(!/^\+[1-9]\d{1,14}$/.test(g))throw new Error("User "+a+': optional field "phone" does not conform E.164 standard. Numbers should start with a plus, followed by a country code and then the phone number. Numbers must not have any other special characters like dashes or spaces. For example, a UK phone number 0123456789 would be formatted as "+44123456789" ('+g+").")}this.name=Object(r.d)(c,["string"],"User "+a+': required field "name" is not given or not a string or is an empty string.',[r.b]),Object(r.c)(this,"welcomeMessage",v,["null","undefined","string"],"User "+a+': optional field "welcomeMessage" is given but not a string or is an empty string.',[r.b]),Object(r.c)(this,"role",d,["null","undefined","string"],"User "+a+': optional field "role" is given but not a string or is an empty string.',[r.b]),Object(r.c)(this,"configuration",O,["null","undefined","string"],"User "+a+': optional field "configuration" is given but not a string or is an empty string.',[r.b]),Object(r.c)(this,"custom",p,["null","undefined","object"],"User "+a+': optional field "custom" is given but not an object.'),(l=Object(r.d)(l,["null","undefined","string"],"User "+a+': optional field "photoUrl" is given but not a string or is an empty string.',[r.b]))&&(this.photoUrl=(i=l,(o=document.createElement("a")).href=i,o.href)),Object(r.c)(this,"availabilityText",T,["null","undefined","string"],"User "+a+': optional field "availabilityText" is given but not a string or is an empty string.',[r.b]),Object(r.c)(this,"locale",m,["null","undefined","string"],"User "+a+': optional field "locale" is given but not a string or is an empty string or does not conform the BCP 47 format.',[r.b,r.a]),this.custom&&Object(r.e)(this.custom,["string","null"],(function(t){return"User "+a+': optional field "custom.'+t+'" is given but not a string.'})),this.configuration||this.role||console.warn("[TalkJS] No role is set for user "+a+". TalkJS will work, but with some features disabled (such as email notifications)."),this.configuration&&this.role&&console.warn("[TalkJS] A configuration and role was set for the user "+a+", the assigned role will take presedence over a configuration."),this.role&&(this.configuration=this.role)}};var c,f,h=function(t){var n=t.conversationId,e=t.participants,i=t.topicId,o=t.subject,s=t.photoUrl,u=t.welcomeMessages,a=t.custom;this.participants=[],this.id=Object(r.d)(n,["string"],"Conversation: field conversationId cannot be empty.",[r.b]);for(var c=0,f=e;c<f.length;c++){var h=f[c];this.participants.map((function(t){return t.user.id})).indexOf(h.user.id)<0&&this.participants.push(h)}Object(r.c)(this,"subject",o,["null","undefined","string"],'Conversation: optional field "subject" is given but not an string.'),Object(r.c)(this,"photoUrl",s,["null","undefined","string"],'Conversation: optional field "photoUrl" is given but not an string or is an empty string.',[r.b]),Object(r.c)(this,"welcomeMessages",u,["null","undefined","string[]"],'Conversation: optional field "welcomeMessages" is given but not an array of strings.'),Object(r.c)(this,"custom",a,["null","undefined","object"],'Conversation: optional field "custom" is given but not an object.'),this.custom&&Object(r.e)(this.custom,["string"],(function(t){return'Field "custom.'+t+'" must be a string.'})),void 0!==(i=null!=i?i.toString():void 0)&&(this.topicId=Object(r.d)(i,["string"],'Conversation: optional field "topicId" is given but not an string or is an empty string.',[r.b])),this.internalId=d(this.id)},l=function(){function t(t,n){this.N=n,this.participants=[],this.id=Object(r.d)(t,["string"],"Conversation: field conversationId cannot be empty.",[r.b]),this.internalId=d(this.id)}return t.prototype.setParticipant=function(t,n){if(this.N._(),!(t instanceof a))throw new Error("[TalkJS] The first argument of ConversationBuilder#setParticipant should be of type Talk.User. For example:\n            \nvar user = new Talk.User(data);\nconversation.setParticipant(user);\n            \nFor more information check our documentation https://talkjs.com/docs/Reference/JavaScript_Chat_SDK/ConversationBuilder.html#setparticipant\n            ");this.participants=this.participants.filter((function(n){return n.user.id!==t.id})),this.participants.push(new o(t,n))},t.prototype.setAttributes=function(t){this.N._(),Object(r.c)(this,"subject",t.subject,["null","undefined","string"],'Conversation.setAttributes: optional field "subject" is given but not an string.'),Object(r.c)(this,"custom",t.custom,["null","undefined","object"],'Conversation.setAttributes: optional field "custom" is given but not an object.'),Object(r.c)(this,"photoUrl",t.photoUrl,["null","undefined","string"],'Conversation.setAttributes: optional field "photoUrl" is given but not an string or is an empty string.',[r.b]),Object(r.c)(this,"welcomeMessages",t.welcomeMessages,["null","undefined","string[]"],'Conversation.setAttributes:Conversation: optional field "welcomeMessages" is given but not an array of strings'),this.custom&&Object(r.e)(this.custom,["null","string"],(function(t){return'Conversation.setAttributes: Field "custom.'+t+'" must be a string.'}))},t.prototype.sendMessage=function(t,n){var e=(void 0===n?{}:n).custom;this.N._(),t=Object(r.d)(t,["string"],"sendMessage() accepts a single String value representing the text of the message"),e&&Object(r.e)(e,["string"],(function(t){return'Field "custom.'+t+'" must be a string.'}));var i=this.internalId;return this.N.M.then((function(n){return n.sendMessage({text:t,custom:e},i)}))},t}();function v(t,n,e){return"string"==typeof t&&(t=new a(t)),"string"==typeof n&&(n=new a(n)),function(t,n){var e=t.map((function(t){return t.id}));e.sort();var i={p:e};return void 0!==n&&(i.t=n),JSON.stringify(i)}([t,n],e)}function d(t){return Object(s.a)(t)}function O(t,n){return n.filter((function(n){return!0===t.participants[n.id].canRead})).map(p)}function p(t){return{id:t.externalId,name:t.name,welcomeMessage:t.welcomeMessage,photoUrl:t.photoUrl,role:t.configuration,configuration:t.configuration,custom:t.custom,availabilityText:t.availabilityText,locale:t.locale,email:"<suppressed>",phone:"<suppressed>"}}function T(t){return{custom:t.custom,id:t.externalId,photoUrl:t.photoUrl,subject:t.subject,topicId:t.topicId,welcomeMessages:t.welcomeMessages}}!function(t){t[t.Inbox=0]="Inbox",t[t.Chatbox=1]="Chatbox",t[t.Popup=2]="Popup"}(c||(c={})),function(t){t[t.Widget=0]="Widget",t[t.Popover=1]="Popover"}(f||(f={}));var m=e(64),b=e(17);function I(){var t=function(){if(document.currentScript)return document.currentScript.src;try{throw new Error}catch(t){return t.stack.match(/https?:\/\/.*\.js/)[0]}}(),n=document.createElement("a");return n.href=t,n}var g,w,E,A=(g=I().host).match(/^cdn[\.-]/)?g.replace(/^cdn/,"app"):g,N=I().protocol,k=(w=function(t,n){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}w(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});!function(t){t[t.NOTIFICATIONS_PERMISSION_DENIED=0]="NOTIFICATIONS_PERMISSION_DENIED",t[t.NOTIFICATIONS_NOT_SUPPORTED=1]="NOTIFICATIONS_NOT_SUPPORTED"}(E||(E={}));var y=function(t){function n(n,e){var i=this.constructor,r=t.call(this,"[TalkJS] "+e)||this;return r.code=n,Object.setPrototypeOf&&Object.setPrototypeOf(r,i.prototype),r}return k(n,t),n.Code=E,n}(Error),_=e(16),M="talkjs:desktop_notify",S=function(){try{return Audio&&new Audio(N+"//"+A+e(435))}catch(t){return null}}();function j(){return window.Notification&&"granted"===Notification.permission}var D=[];function P(t,n){var e=void 0===t?{}:t,i=e.title,r=e.body;e.conversationId;if(r){if(S)try{S.play()}catch(t){}var o=new Notification(i||"",{body:r,icon:L()});o.onclick=function(){window.focus(),n()},D.push(o)}}window.addEventListener("focus",(function(){D.forEach(Object(b.h)((function(t){return t.close()}))),D=[]}));var C,R=!1,x=0;function z(t,n){var e=n.locale,i=n.alertOnFailure,r=n.appName;return m.a.set(M,t),t?(j()?_.a.resolve(!0):window.Notification?new _.a((function(t){Notification.requestPermission((function(){t(j())}))})):_.a.reject(new y(y.Code.NOTIFICATIONS_NOT_SUPPORTED,"The browser doesn't support desktop notifications."))).then((function(t){if(!t||r){if(!t||!r)throw m.a.set(M,!1),new y(y.Code.NOTIFICATIONS_PERMISSION_DENIED,"The user or the browser denied permission to send notifications.");!function(t,n){P({title:n.t("DESKTOP_NOTIFICATIONS_DEMO_TITLE",{APPNAME:t}),body:n.t("DESKTOP_NOTIFICATIONS_DEMO_BODY")},(function(){}))}(r,e)}})).catch((function(t){throw i&&alert(e.t("DESKTOP_NOTIFICATIONS_ERROR")),t})):_.a.resolve()}function F(){return j()&&Boolean(m.a.get(M))}function L(){if(C)return C;for(var t=document.getElementsByTagName("head")[0].getElementsByTagName("link"),n=[],e=t.length-1;e>=0;e--)/(^|\s)icon(\s|$)/i.test(t[e].getAttribute("rel")||"")&&n.push(t[e]);var i=n.reduce((function(t,n){return U(t)>U(n)?t:n}),void 0);return C=i&&i.getAttribute("href")||void 0}function U(t){return parseInt(t&&(t.getAttribute("sizes")||"").split("x")[0]||"0")}var B=function(){function t(t){for(var n in this.S={},t)t.hasOwnProperty(n)&&(this.S[n]=[])}return t.prototype.emit=function(t,n){for(var e=0,i=this.S[t];e<i.length;e++){var r=i[e];try{r(n)}catch(n){console.error("[TalkJS] '"+t+"' handler threw an error:",n)}}},t.prototype.supports=function(t){return t in this.S},t.prototype.on=function(t,n){if(!this.supports(t))throw new Error("Unknown event type '"+t+"'");this.S[t].push(n)},t.prototype.off=function(t,n){if(!(t in this.S))throw new Error("Unknown event type '"+t+"'");var e=this.S[t].indexOf(n);-1!==e&&this.S[t].splice(e,1)},t.prototype.removeAllListeners=function(){for(var t in this.S)this.S[t]=[]},t.prototype.handles=function(t){return this.S[t].length>0},t}(),K=e(14);function Y(t){var n,e,i=t.side,r=t.sender;return null===r?(n=null,e=null):(n=r.externalId,e=p(r)),{conversation:J(i),isByMe:i.isByMe,senderId:n,sender:e,body:i.lastMessageBody,type:i.lastMessageType,timestamp:i.lastMessageTs,read:i.lastMessageRead,origin:i.lastMessageOrigin,custom:i.lastMessageCustom,attachment:i.lastMessageAttachment,location:i.lastMessageLocation}}function J(t){return{id:t.conversationExternalId,custom:t.conversationCustom,topicId:t.conversationTopicId,subject:t.conversationSubject,welcomeMessages:t.conversationWelcomeMessages,photoUrl:t.conversationPhotoUrl}}var H=function(){function t(t,n,e){var i=this;this.D=n,this.P=e,this.C=new B({change:function(t){}}),this.R={},this.F=K.e(),this.L=void 0,this.U=!1,this.B=function(t){var n=t.id;t.data;delete i.R[n]},this.K=function(t,n){for(var e=n.emitNewMessageEvent,r=[],o=0,s=t||[];o<s.length;o++){var u=s[o],a=i.R[u.id];!e||a&&a.lastMessageTs===u.lastMessageTs||r.push(u),i.R[u.id]=u}i.F.resolve(void 0);var c=Object.keys(i.R).map((function(t){return i.R[t]})).filter((function(t){return t.canIRead&&!1===t.lastMessageRead})),f=i.Y(c);_.a.all(f).then((function(t){_.a.all(i.Y(r)).then((function(n){i.J(t);for(var e=0,r=n.filter((function(t){return!t.side.lastMessageRead}));e<r.length;e++){var o=r[e];i.H(o)}i.G(n)}))}))},t.then((function(t){i.W=t,i.$({amount:20})}))}return t.prototype.Z=function(){return this.W.getOrJoinChannel("seq/sides/"+this.W.me.internalId)},t.prototype.$=function(t){var n=this,e=t.amount;this.F=K.e();var i=this.Z();i.on("recordUpdated",(function(t){return n.K(t.data,{emitNewMessageEvent:!0})})),i.on("recordDeleted",(function(t){return n.B(t)})),i.push("get_all",{limit:e}).receive("ok",(function(t){return n.K(t.data,{emitNewMessageEvent:!1})}))},t.prototype.V=function(t){var n=this;return this.F.promise.then((function(){return n.X(t)})).then((function(){return J(n.R[t])}))},t.prototype.X=function(t){var n=this;return this.R[t]?_.a.resolve():new _.a((function(e){n.Z().push("get_one",{itemId:t}).receive("ok",(function(t){n.K([t.data],{emitNewMessageEvent:!1}),e()}))}))},t.prototype.Y=function(t){var n=this;return t.filter((function(t){return null!==t.lastMessageSenderId})).map((function(t){return n.W.getNym(t.lastMessageSenderId).then((function(n){return{side:t,sender:n}}))}))},t.prototype.tt=function(t,n){if(t.length!==n.length)return!0;for(var e=function(t){var e=n.filter((function(n){return n.lastMessage.conversation.id===t.lastMessage.conversation.id}))[0];if(!e)return{value:!0};var i=t.lastMessage,r=e.lastMessage;return i.body!==r.body||i.conversation.id!==r.conversation.id||i.isByMe!==r.isByMe||i.read!==r.read||i.timestamp!==r.timestamp||i.type!==r.type?{value:!0}:void 0},i=0,r=t;i<r.length;i++){var o=e(r[i]);if("object"==typeof o)return o.value}return!1},t.prototype.J=function(t){var n=t.map((function(t){return{lastMessage:Y(t)}}));this.L&&!this.tt(n,this.L)||this.C.emit("change",n),this.L=n},t.prototype.G=function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];this.D(Y(i))}},t.prototype.H=function(t){var n,e,i,r=this,o=t.side,s=t.sender,u=Date.now();if(null!==o.lastMessageSenderId&&null!==s){this.nt={body:this.rt(o),title:s.name};var a=Date.now()-u;n=function(){return r.nt},e=Math.max(0,500-a),i=function(){return r.P(J(o))},void 0===e&&(e=500),!R&&F()&&(x+100>Date.now()||(R=!0,setTimeout((function(){try{if(!document.hasFocus()){var t=n();t&&P(t,i)}}finally{R=!1,x=Date.now()}}),e)))}},t.prototype.ot=function(t){return function(n){var e,i=[];for(t.lastIndex=0;e=t.exec(n);){var r=e[0],o=e.index;i.push({offset:o,matchedText:r,regexMatch:e})}return i}},t.prototype.rt=function(t){if("text"===t.lastMessageType){if("rest"===t.lastMessageOrigin)this.ot(/<((?:https?|mailto):.*?)\|(.*?)>/gi)(t.lastMessageBody).forEach((function(n){t.lastMessageBody=t.lastMessageBody.replace(n.regexMatch[0],n.regexMatch[2])}));return t.lastMessageBody}if("location"===t.lastMessageType)return"📍 Shared location";if("media"===t.lastMessageType&&t.lastMessageAttachment){var n=t.lastMessageAttachment.url,e=Object(b.c)(n);return Object(b.d)(e)?"📷 "+e:"[↓] "+e}return""},t.prototype.on=function(t,n){this._(),this.C.on(t,n)},t.prototype.off=function(t,n){this.C.off(t,n)},t.prototype._=function(){if(this.U)throw new Error("[TalkJS] This object has been destroyed, please create a new Session.")},t.prototype.st=function(){this.U=!0,this.W&&this.W.disconnect(),this.C.removeAllListeners()},t}(),G=function(t,n){t.then((function(t){return t.getOrJoinChannel("me:"+t.me.internalId+":"+n)}))},Q=e(68),W=e(22),$=e(15),Z=function(){function t(t,n){var e=this;this.ut=t,this.at=n,this.ct=[],this.ft={},this.ht=function(t){return function(n,i){W.d("xsp.onRejoin",[t,i],e.ut())}},this.S={"xsp.joinTopic":function(t,n,i){var r=e.at.getOrJoin(t,n,e.ht(t));e.ft[t]=r;for(var o=0,s=i;o<s.length;o++){var u=s[o];e.S["xsp.listen"](t,u)}},"xsp.listen":function(t,n){var i=e.ft[t];if(!i)throw new Error("Can't find channel for topic "+t);var r=i.on(n,(function(i){W.d("xsp.on",[t,n,i],e.ut())}));e.ct.push({topic:t,event:n,ref:r})},"xsp.push":function(t,n,i,r,o){return new Promise((function(s){for(var u=e.ft[t].push(n,i,o),a=function(t){u.receive(t,(function(n){s({status:t,response:n})}))},c=0,f=r;c<f.length;c++){a(f[c])}}))}},this.lt=W.c(this.S,t)}return t.prototype.destroy=function(){for(var t=0,n=this.ct;t<n.length;t++){var e=n[t];this.ft[e.topic].off(e.event,e.ref)}$.forEach(this.ft,(function(t){0===t.bindings.length&&t.leave()})),W.e(this.lt)},t}(),q=e(146),V=function(t,n,e){var i=this;this.W=t,this.Z=this.W.getOrJoinChannel("record/"+n+"/"+e),this.loaded=new _.a((function(t,n){i.Z.push("get",{}).receive("ok",(function(n){i.value=n.data,t()})).receive("error",(function(t){return n(t)})).receive("timeout",(function(){return n("timeout")})),i.Z.on("recordUpdated",(function(t){return i.value=t.data}))}))},X=function(){function t(t,n,e,i,r,o){var s;void 0===o&&(o=0),this.boken=t,this.me=n,this.appId=e,this.appLocale=i,this.vt=r,this.version=o,this.dt={},this.Ot=new Q.a((s=A,N.replace("http:","ws:").replace("https:","wss:")+"//"+s),{appId:this.appId}),this.Ot.connect({boken:this.boken})}return t.prototype.makeXdmServer=function(t){return new Z(t,this.Ot)},t.prototype.url=function(t){var n=-1===t.indexOf("?")?"?":"&";return N+"//"+A+"/api/v"+this.version+"/"+this.appId+t+n+"authToken="+this.boken},t.prototype.getNym=function(t){t in this.dt||(this.dt[t]=new V(this,"nyms",t));var n=this.dt[t];return n.loaded.then((function(){return n.value}))},t.prototype.post=function(t,n){return Object(K.g)("POST",this.url(t),JSON.stringify(n))},t.prototype.put=function(t,n){var e=this;return this.Tt((function(){return Object(K.g)("PUT",e.url(t),JSON.stringify(n))}))},t.prototype.delete=function(t){var n=this;return this.Tt((function(){return Object(K.g)("DELETE",n.url(t))}))},t.prototype.getOrJoinChannel=function(t,n){void 0===n&&(n={});var e=Object(i.a)(Object(i.a)({},n),{origin:"JSSDK"});return this.Ot.getOrJoin(t,e)},t.prototype.Tt=function(t,n){var e=void 0===n?{}:n,i=e.retries,r=void 0===i?10:i,o=e.delay,s=void 0===o?.2:o;return Object(b.e)(r,t,{delay:s,log:void 0})},t.prototype.sendMessage=function(t,n){var e=t.text,i=t.custom,r=Object(q.a)(),o=this.vt,s=this.me.internalId;return this.put("/say/"+n+"/"+r+"/?sessionId="+o,{text:e,custom:i,nymId:s}).then((function(){0}))},t.prototype.disconnect=function(){this.Ot.disconnect()},t}();function tt(t,n){return N+"//"+A+"/api/v0/"+t+"/"+n}var nt=function(){function t(t){var n=this;this.getSourceWindow=t,this.S={},this.router=function(t){return W.a(t,{sourceWindow:n.getSourceWindow(),handlers:n.S,prefix:"on_"})},window.addEventListener("message",this.router)}return t.prototype.destroy=function(){window.removeEventListener("message",this.router)},t.prototype.listen=function(t,n,e){this.S["on_"+e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(void 0,t)}},t.prototype.unlisten=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e in this.S)-1!==t.indexOf(this.S[e])&&delete this.S[e]},t}(),et=[[2,1],[2],[],[3,4,5]],it=(e(287),function(){function t(t,n,e,r){var o=this;this.bt=t,this.It=n,this.initialPath=e,this.queryStringData=r,this.gt=!1,this.wt=K.e(),this.post=function(t,n){return o.wt.promise.then((function(){W.d(t,n,o.Et.contentWindow)}))},this.ask=function(t,n){return o.wt.promise.then((function(){return W.b(t,n,o.Et.contentWindow)}))},this.nav=function(t,n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),o.gt){var r=new rt(Object(i.a)({dbSyncData:n},e));o.post("nav",[o.At(t),r.toString()])}else{r=new rt(Object(i.a)(Object(i.a)(Object(i.a)({},o.queryStringData),{dbSyncData:n}),e));o.Nt(t,r)}},this.mount=function(t,n){t!==o.kt&&(o.kt=t,o.yt(),n(o.Et.style))},this._t=N+"//"+A,this.Et=document.createElement("iframe"),this.Et.scrolling="no",this.Et.name="____talkjs__chat__ui_internal",this.Et.style.border="none",this.Et.setAttribute("aria-label","TalkJS iframe"),this.Et.allow="fullscreen",this.Mt(this.Et);var s=new rt(this.queryStringData);this.Nt(this.initialPath,s),K.k("__talkjs:appready",(function(){o.wt.resolve(void 0)}))}return t.prototype.Mt=function(t){var n=this;t.onload=function(t){n.gt=!0}},t.prototype.St=function(t){return this._t+"/app/"+this.bt+this.At(t)},t.prototype.At=function(t){return"/user/"+this.It+"/"+t},t.prototype.contentWindow=function(){return this.Et.contentWindow},t.prototype.patchQueryString=function(t){return this.ask("patchQueryString",[t])},t.prototype.Nt=function(t,n){var e=n.toString();if(e.length>K.a){var i=n.split(),r=i.short,o=i.long,s=i.key;K.g("PUT",this._t+"/__buffer/"+s,JSON.stringify({value:o})),e="bufferKey="+s+"&"+r}this.Et.src=this.St(t+"?"+e)},t.prototype.patchLocalSettings=function(t){return this.patchQueryString({localSettings:t})},t.prototype.yt=function(){this.kt.appendChild(this.Et)},t.prototype.cleanupContainer=function(){if(this.kt.hasChildNodes()){for(;this.kt.firstChild&&this.kt.firstChild!==this.Et;)this.kt.removeChild(this.kt.firstChild);for(;this.kt.lastChild&&this.kt.lastChild!==this.Et;)this.kt.removeChild(this.kt.lastChild)}},t.prototype.destroy=function(){var t=this.Et.parentNode;t&&t.removeChild(this.Et)},t.prototype.isZombie=function(){return!!this.gt&&!document.body.contains(this.Et)},t}()),rt=function(t){function n(n){var e=n.dbSyncData,i=n.localSettings,r=n.clientHeight,o=n.signature,s=n.externalUserId,u=n.thirdparties,a=n.sessionId,c=[];return e&&c.push(["syncPlease",e]),i&&c.push(["localSettings",i]),c.push(["clientHeight",r]),c.push(["sessionId",a]),c.push(["signature",o]),c.push(["thirdparties",u]),c.push(["id",s]),t.call(this,c)||this}return Object(i.c)(n,t),n}(K.b),ot="___talkjs_image_popup";var st=e(120),ut=function(t,n){if(e=t,isNaN(parseFloat(e))||!isFinite(e))throw new Error("[TalkJS][HtmlPanel] "+(n||"value")+" must be a number.");var e;return Number(t)},at=function(){function t(t,n){if(this.jt=!1,this.panelLoaded=Object(K.e)(),this.Dt=Object(K.e)(),this.Pt=Object(K.e)(),!n.url)throw new Error("[TalkJS] URL is required for the `HTMLPanel`.");var e=n.url,i=n.show,r=void 0===i||i,o=n.height,s=void 0===o?100:o,u=n.conversation,a=document.createElement("a");a.href=e,this.Ct={url:a.href,show:r,height:ut(s,"height"),conversation:"object"==typeof u?u.id:u},this.Rt=t,this.DOMContentLoadedPromise=this.Dt.promise,this.windowLoadedPromise=this.Pt.promise}return t.prototype.show=function(){this._(),!1===this.Ct.show&&(this.Ct.show=!0,this.xt())},t.prototype.hide=function(){this._(),!0===this.Ct.show&&(this.Ct.show=!1,this.xt())},t.prototype.setHeight=function(t){this._(),this.Ct.height=ut(t,"height"),this.xt()},t.prototype.isVisible=function(){return this._(),!this.jt&&!0===this.Ct.show},t.prototype._=function(){if(this.Rt._(),this.jt)throw new Error("[TalkJS] This HTML Panel has been destroyed, and you cannot use it anymore. Please create a new HTML Panel.")},t.prototype.destroy=function(){return this.Ct.show=!1,this.Ct.url="",this.jt=!0,this.xt()},t.prototype.zt=function(){var t=this,n=Object(b.b)(this.Ct.url,this.Rt.sessionId,this.Ct.conversation);return Object(K.k)("__talkjs:htmlPanelLoaded_"+n,(function(){t.panelLoaded.resolve(void 0)})),this.xt().then((function(){return t.panelLoaded.promise.then((function(){var e=t.Ft(n);if(!e)throw new Error("[TalkJS][HtmlPanel]: Couldn't get a reference to the window property of the HTML panel iframe.");t.window=e;try{t.window.scrollBy(0,0)}catch(n){return void console.warn("[TalkJS] HTML Panel on url "+t.Ct.url+" is not on the same origin as the current page, functionality may be limited. DOMContentLoadedPromise and windowLoadedPromise will never resolve. See https://talkjs.com/docs/Features/Customizations/HTML_Panels.html#page_HTML-Panel-Limitations for more information.")}var i=function(t,n){n.resolve(void 0)},r=function(){return t.window.addEventListener("load",(function(){return i(0,t.Pt)}),!0)};"loading"===t.window.document.readyState?(t.window.document.addEventListener("DOMContentLoaded",(function(){return i(0,t.Dt)}),!0),r()):"complete"===t.window.document.readyState?(i(0,t.Dt),i(0,t.Pt)):(i(0,t.Dt),r())}))}))},t.prototype.xt=function(){var t=this;return this.Rt.contentLoaded().then((function(){return t.Rt.Lt()}))},t.prototype.Ft=function(t){var n=this.Ut();return null!==n?n.frames[t]:null},t.prototype.Ut=function(){var t=this.Rt.Bt();return t||null},t}(),ct=function(){function t(t){this.Rt=t}return t.prototype.focus=function(){this.Rt.Kt("focusEntryBox",[],"[TalkJS] Cannot focus the message field on an unmounted UI.")},t.prototype.setText=function(t){this.Rt.Kt("setText",[t],"[TalkJS] Cannot set message field text on an unmounted UI.")},t.prototype.setVisible=function(t){this.Rt.Yt("messageField",{visible:t})},t}(),ft=e(36),ht=e(33),lt=e(311);function vt(){var t=Object(st.a)(),n=t.width,e=t.height;return n<420||e<420?f.Popover:f.Widget}var dt={sendMessage:function(t){},focus:function(t){},blur:function(t){},translationToggled:function(t){}},Ot=function(){function t(t,n,e,i){var o=this,s=void 0===n?{}:n,u=s.selectedConversation,a=s.hideHub,c=void 0!==a&&a;this.Jt={perConv:Object.create(null)},this.Ht=!1,this.Gt=K.e(),this.C=new B(dt),this.sessionId=K.n(),this.messageField=new ct(this),this.onUIBoxFocusChange=function(t){var n=t.focused;o.C.emit(n?"focus":"blur",{})},this.onTranslationToggled=function(t){var n=t.conversation,e=t.isEnabled;o.C.emit("translationToggled",{isEnabled:e,conversation:T(n)})},this.onSendMessage=function(t){var n=t.meId,e=t.conversationId,i=t.text,s=t.attachment,u=t.location,a=o.Qt({id:n}),c=o.N.Wt.V(e);return _.a.all([a,c]).then((function(t){var n=t[0],e=t[1],a={id:void 0,conversationId:e.id,type:"UserMessage",readBy:[],senderId:n.id,text:i,origin:"web",attachment:s,location:u,createdAt:void 0},c={text:i,custom:{}},f=new K.c("SendMessageEvent.override",(function(t){var n=t.text,e=t.custom;Object(r.d)(n,["string"],"override() accepts a single string value representing the text of the message, got: `"+n+"`"),n&&(c.text=n),e&&(c.custom=e)})),h={me:n,message:a,conversation:e,override:f.callback};return o.C.emit("sendMessage",h),f.expire(),c})).catch((function(t){return console.error(t)}))},this.onShowMoreChats=function(t){var n=t.amount;o.N.Wt.$({amount:n})},this.N=t,this.$t=new nt((function(){if(o.Zt)return o.Zt.contentWindow()}));var f=i.dir;!f&&document.documentElement.dir&&"auto"!==document.documentElement.dir&&(f=document.documentElement.dir),this.qt={hideHub:c,dir:f},this.boxType=e,this.Ct=i,this.select(u)}return t.prototype.contentLoaded=function(){return this.Gt.promise},t.prototype.select=function(t,n){void 0===n&&(n={}),this._();var e=this.Ct,i=this.Ct,r=this.Ct,o=e.messageField||{};if(e.messageField&&void 0!==e.messageField.visible&&"boolean"!=typeof e.messageField.visible&&Object(ft.c)("messageField.visible",e.messageField.visible),this.Vt={desktopNotify:F(),dir:this.qt.dir,htmlPanelOptions:this.Xt(),feedFilter:void 0===i.feedFilter?{}:i.feedFilter,messageFilter:void 0===i.messageFilter?{}:i.messageFilter,useBrowserHistory:void 0===i.useBrowserHistory||i.useBrowserHistory,translationOptions:this.tn(),highlight:[],chatHeaderState:"profile",theme:this.Ct.theme,messageField:{enterSendsMessage:void 0===o.enterSendsMessage||o.enterSendsMessage,placeholder:o.placeholder,spellcheck:void 0!==o.spellcheck&&o.spellcheck,visible:void 0===o.visible||o.visible,autofocus:!1!==o.autofocus},view:{mode:this.getMode(),hideHub:this.qt.hideHub||!1,isInsideMobileApp:K.i(),showChatHeader:void 0===e.showChatHeader||e.showChatHeader,showFeedHeader:void 0===i.showFeedHeader||i.showFeedHeader,searchInConv:this.N.nn(3),chatTitleMode:void 0===e.chatTitleMode?"participants":e.chatTitleMode,chatSubtitleMode:void 0===e.chatSubtitleMode?"subject":null===e.chatSubtitleMode?"none":e.chatSubtitleMode,feedConversationTitleMode:void 0===i.feedConversationTitleMode?"auto":i.feedConversationTitleMode,showCloseInHeader:void 0===r.showCloseInHeader?"auto":r.showCloseInHeader,legacyNoChatsPage:this.N.nn(2),timeZone:lt.determine().name(),showMobileBackButton:void 0===i.showMobileBackButton||i.showMobileBackButton}},this.rn=this.sn(t),this.un=this.an(t),this.Zt){var s={localSettings:this.Vt};this.Zt.nav(this.un,this.rn,s)}var u=n.messageSuggestion||e.messageSuggestion;u&&this.Kt("setText",[u],"[TalkJS] Unexpected error")},t.prototype.createHtmlPanel=function(t){this._();var n=new at(this,t),e=t.conversation;e?this.Jt.perConv["object"==typeof e?e.id:e]=n:this.Jt.global=n;var i=n.zt();return this.Lt(),i.then((function(){return n}))},t.prototype.setTranslationEnabledForConversation=function(t,n){var e;e="string"==typeof t?d(t):t.internalId,this.Vt.translationOptions.perConv[e]=n,this.cn({translationOptions:this.Vt.translationOptions})},t.prototype.setTranslationEnabledDefault=function(t){this.Vt.translationOptions.global=t,this.cn({translationOptions:this.Vt.translationOptions})},t.prototype.on=function(t,n){this._(),this.C.on(t,n)},t.prototype.off=function(t,n){this.C.off(t,n)},t.prototype.fn=function(t,n){return K.l(this.Ct,t),this.cn(n)},t.prototype.cn=function(t){var n=this;return K.l(this.Vt,t),this.contentLoaded().then((function(){return n.Zt.patchLocalSettings(t)}))},t.prototype.hn=function(t){var n=this;return this.contentLoaded().then((function(){return n.Zt.patchQueryString(t)}))},t.prototype.Kt=function(t,n,e){var i=this;this._(),this.contentLoaded().then((function(){var r=i.Zt;if(null==r?void 0:r.isZombie())throw new Error(e);r.post(t,n)}))},t.prototype.Yt=function(t,n){var e,i=this;K.l(this.Vt[t],n);var r=((e={})[t]=this.Vt[t],e);return this.contentLoaded().then((function(){return i.Zt.patchLocalSettings(r)}))},t.prototype.setPresence=function(t){var n=void 0===t?{}:t,e=n.visible,i=n.custom;this._(),Object(r.d)(e,["undefined","boolean"],"UIBox.setPresence: field visible has to be boolean."),i&&Object(r.e)(i,["string"],(function(t){return'UIBox.setPresence: Field "custom.'+t+'" must be a string.'})),this.Zt.post("setPresence",[{custom:i,visible:e}])},t.prototype.setHighlightedWords=function(t){return this.cn({highlight:t})},t.prototype.ln=function(t){return this.C.supports(t)},t.prototype.Bt=function(){return this.Zt?this.Zt.contentWindow():null},t.prototype.sn=function(t){var n=this,e={me:this.N.me};return"object"==typeof t&&null!==t&&(e.others=t.participants.filter((function(t){return t.user.id!==n.N.me.id})).map((function(t){return t.user})),e.conversation={internalId:t.internalId,id:t.id,participants:t.participants,subject:t.subject,custom:t.custom,welcomeMessages:t.welcomeMessages,photoUrl:t.photoUrl,topicId:t instanceof h?t.topicId:void 0}),e},t.prototype.an=function(t){return"object"==typeof t?null===t?"inbox/chats/hubOnly":"inbox/"+t.internalId:"string"==typeof t?"inbox/"+d(t):"inbox/chats"},t.prototype._=function(){if(this.N._(),this.Ht)throw new Error("[TalkJS] This UI object has been destroyed, and you cannot use it anymore. This object has been deleted before (either by calling destroy(), by a user closing the popup, or by external code removing the TalkJS Iframe from the DOM), and is now in an invalid state. Please call createInbox, createChatbox or createPopup again.")},t.prototype.vn=function(t){var n=this;this._();var e=t,i=e&&e.jquery&&e.length?e[0]:t;if(this.Zt)throw new Error("[TalkJS] Cannot mount UI more than once. Please call createInbox, createChatbox or createPopup again if you want to create a new UI.");if(!i)throw new Error("[TalkJS] Cannot mount UI: container element not found");if(!this.un)throw new Error("[TalkJS] Internal Error: cannot mount UI without URL");var r=this.N.legacyThemePath;return r?K.g("GET",r).then((function(t){return n.Vt.rawV1Theme=t.replace(/\/\*[^@]+?\*\//gm,"")})).then((function(){return n.mountIframe(i)})).then((function(){return n.Gt.promise})):(this.mountIframe(i),this.Gt.promise)},t.prototype.tn=function(){return this.Vt&&this.Vt.translationOptions?this.Vt.translationOptions:("auto"!==this.Ct.translateConversations&&Object(r.d)(this.Ct.translateConversations,["object[]","string[]","boolean","undefined"],"translateConversations should either be a boolean or an array of ConversationBuilders or conversation ids as strings."),"auto"!==this.Ct.showTranslationToggle&&Object(r.d)(this.Ct.showTranslationToggle,["boolean","undefined"],'showTranslationToggle should either be a boolean or "auto".'),Array.isArray(this.Ct.translateConversations)?{global:!1,perConv:Object(ht.a)(this.Ct.translateConversations,(function(t){return"string"==typeof t?[d(t),!0]:[t.internalId,!0]})),showToggle:this.Ct.showTranslationToggle||!1}:{global:this.Ct.translateConversations||!1,perConv:{},showToggle:this.Ct.showTranslationToggle||!1})},t.prototype.Xt=function(){var t=function(t){return{show:t.show,url:t.url,height:t.height}},n=this.Jt,e=n.global,i=n.perConv,r={perConv:{}};for(var o in e&&(r.global=t(e.Ct)),i)r.perConv[o]=t(i[o].Ct);return r},t.prototype.Lt=function(){this.cn({htmlPanelOptions:this.Xt()})},t.prototype.dn=function(){this.$t.listen(this.Zt,this.onShowImagePopup,"showImagePopup"),this.$t.listen(this.Zt,this.onGetCurrentLocation,"getCurrentLocation"),this.$t.listen(this.Zt,this.onOpenExternalLink,"openExternalLink"),this.$t.listen(this.Zt,this.onShowMoreChats,"showMoreChats"),this.$t.listen(this.Zt,this.onSendMessage,"sendMessage"),this.$t.listen(this.Zt,this.onUIBoxFocusChange,"uiBoxFocusChange"),this.$t.listen(this.Zt,this.onHasParentFocus,"hasParentFocus"),this.$t.listen(this.Zt,this.onTranslationToggled,"translationToggled")},t.prototype.mountIframe=function(t){var n=this,e=Object(st.a)().height,i={dbSyncData:this.rn,localSettings:this.Vt,clientHeight:e,sessionId:this.sessionId,thirdparties:this.Ct.thirdparties,signature:this.N.signature,externalUserId:this.N.me.id};if(this.Zt=new it(this.N.appId,this.N.me.internalId,this.un,i),this.On(),this.dn(),"full"===this.Vt.view.mode){var r=void 0;if(this.N.nn(1)){var o=function(t){var n=document.createElement("div");pt(t,n);var e=t.style.boxSizing;t.style.boxSizing="content-box";var i=parseInt(getComputedStyle(t).height);return t.style.boxSizing=e,pt(n,t),i>1}(t);r=function(e){e.width="100%",n.pn(t,e,o),e.marginLeft="auto",e.marginRight="auto",e.visibility="visible","ti8AJFWH"!==n.N.appId&&"LfC1CcQC"!==n.N.appId&&(e.minHeight="500px")}}else r=function(t){t.width="100%",t.height="100%",t.marginLeft="auto",t.marginRight="auto",t.visibility="visible"};this.Zt.mount(t,r)}else this.Zt.mount(t,(function(t){t.width=t.height="0",t.minWidth=t.maxWidth=t.minHeight=t.maxHeight="100%",t.visibility="visible"}));this.N.M.then((function(t){n.Tn=t.makeXdmServer((function(){return n.Zt.contentWindow()}))}))},t.prototype.pn=function(t,n,e){if(e)n.height="100%";else{var i=t.getBoundingClientRect().top+window.pageYOffset,r=window.innerHeight,o=r-i;if(window.innerWidth>=1010){var s=getComputedStyle(t);o-=parseInt(s.paddingTop)+parseInt(s.paddingBottom)||10}n.height=o>500?Math.round(o)+"px":Math.round(.75*r)+"px"}},t.prototype.On=function(){var t=this;K.k("__talkjs:hello",(function(){t.Zt.cleanupContainer(),t.Gt.resolve(void 0)}))},t.prototype.onShowImagePopup=function(t){!function(t){var n=document.getElementById(ot);n&&n.parentNode.removeChild(n);var e,i=Math.min(window.innerWidth,window.innerHeight)<500?"padding: 0; max-width: 100%; max-height: 100%":"padding: 5px; background: #fff; max-width: 95%; max-height: 95%",r=document.createElement("div");r.innerHTML='<div tabIndex="-1" id="'+ot+'" style="box-sizing: border-box; padding: 0; background-color: rgba(0,0,0,0.85); opacity: 0; transition: opacity 0.2s ease-out; overflow: hidden; position: fixed; z-index: 54321; left: 0; top: 0; right: 0; bottom: 0">\n        <img src="'+t+'" style="'+i+'; opacity: 0; transition: opacity 0.1s ease-out; margin: auto; position: absolute; top: 0; bottom: 0; right: 0; left: 0">\n        <span style="cursor: pointer; color: #fff; font: 4vmin sans-serif; position: absolute; right: 0px; top: 0px; padding: 10px">⨯</a>\n    </div>';var o=function(t){t.preventDefault(),s.parentNode.removeChild(s),document.body.removeEventListener("keydown",e)};e=function(t){return 27===t.keyCode&&o(t)};var s=r.firstChild;s.addEventListener("click",o),document.body.addEventListener("keydown",e);var u=window.requestAnimationFrame||function(t){return setTimeout(t,20)};u((function(){return u((function(){return s.style.opacity="1"}))})),s.getElementsByTagName("img")[0].onload=function(t){return t.target.style.opacity="1"},document.body.appendChild(s),s.focus()}(t.url)},t.prototype.Qt=function(t){return this.N.M.then((function(n){return n.getNym(t.id)})).then(p)},t.prototype.onGetCurrentLocation=function(t){return new _.a((function(t,n){navigator.geolocation.getCurrentPosition((function(n){return t([n.coords.latitude,n.coords.longitude])}),(function(t){return n(t.message)}))}))},t.prototype.onOpenExternalLink=function(t){var n=t.url;window.open(n,"_system","location=yes")},t.prototype.onHasParentFocus=function(){return document.hasFocus()},t.prototype.toggleDesktopNotifications=function(t){return this.N.setDesktopNotificationEnabled(t)},t.prototype.mn=function(t){return this.cn({desktopNotify:t})},t.prototype.destroy=function(){this.$t.unlisten(this.onShowImagePopup,this.onSendMessage),this.$t.destroy(),this.N.forgetUIBox(this),this.C.removeAllListeners(),this.Tn&&this.Tn.destroy(),this.Zt&&this.Zt.destroy(),this.Ht=!0},t.prototype.isZombie=function(){return!this.Zt||this.Zt&&this.Zt.isZombie()},t.prototype.onWindowVisibleChanged=function(t){this.isZombie()||this.Zt.post("windowVisibleChanged",[t])},t.prototype.getMode=function(){if(this.boxType===c.Popup){if(vt()===f.Widget)return"widget";if(vt()===f.Popover)return"popover";throw new Error("[TalkJS]: Unknown mode.")}return"full"},t.prototype.setMessageFilter=function(t){this._(),Object(ft.d)("filter",t),this.fn({messageFilter:t},{messageFilter:t})},t}();function pt(t,n){for(;t.hasChildNodes();)n.appendChild(t.firstChild)}var Tt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mt=function(t){function n(n,e,i){void 0===e&&(e={});var r=t.call(this,n,e,c.Inbox,i)||this;return r.bn=new B({selectConversation:function(t){},conversationSelected:function(t){},desktopNotificationToggled:function(t){}}),r.onSelectConversation=function(t){var n=p(t.me),e=T(t.conversation),i=O(t.conversation,t.others),o={stop:!1},s=new K.c("SelectConversationEvent.preventDefault",(function(){o.stop=!0}));return r.bn.emit("selectConversation",{conversation:e,me:n,others:i,preventDefault:s.callback}),s.expire(),o},r.onConversationSelected=function(t){var n=p(t.me);if(null!==t.conversation){var e=T(t.conversation),i=O(t.conversation,t.others);r.bn.emit("conversationSelected",{me:n,conversation:e,other:i[0],others:i,conversationId:t.conversation.id})}else r.bn.emit("conversationSelected",{me:n,conversation:null,conversationId:null})},r.onDesktopNotifyChange=function(t){var n=t.isEnabled,e=t.appName;z(n,{locale:r.N.In,alertOnFailure:!0,appName:e}).then((function(){r.bn.emit("desktopNotificationToggled",{isEnabled:n})}),(function(){r.N.setDesktopNotificationEnabled(!1)}))},r}return Tt(n,t),n.prototype.mount=function(n){return t.prototype.vn.call(this,n)},n.prototype.dn=function(){t.prototype.dn.call(this),this.$t.listen(this.Zt,this.onConversationSelected,"selectedConversationChanged"),this.$t.listen(this.Zt,this.onSelectConversation,"selectConversation"),this.$t.listen(this.Zt,this.onDesktopNotifyChange,"desktopNotifyChanged")},n.prototype.setFeedFilter=function(t){Object(ft.c)("filter",t),this.fn({feedFilter:t},{feedFilter:t})},n.prototype.on=function(n,e){this._(),t.prototype.ln.call(this,n)?t.prototype.on.call(this,n,e):this.bn.on(n,e)},n.prototype.off=function(n,e){t.prototype.ln.call(this,n)?t.prototype.off.call(this,n,e):this.bn.off(n,e)},n.prototype.destroy=function(){this.$t.unlisten(this.onConversationSelected,this.onDesktopNotifyChange),t.prototype.destroy.call(this),this.bn.removeAllListeners()},n}(Ot),bt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),It=e(439).replace("CLOSE",e(440)).replace("OPEN",e(441)),gt=function(t){function n(n,e,i){var r=t.call(this,n,{hideHub:!0,selectedConversation:e},c.Popup,i)||this;return r.conversation=e,r.gn=i,r.wn=new B({close:function(t){},open:function(t){}}),r.En=!1,r.An=function(){if(r.Ht)throw new Error("[TalkJS] Can't hide a popup that's been destroyed. Please create and mount a new one.");var t=r.Nn();r.kn(t),r.wn.emit("close",{})},r}return bt(n,t),n.prototype.select=function(n,e){this.conversation=n,t.prototype.select.call(this,n,e)},n.prototype.dn=function(){t.prototype.dn.call(this),this.$t.listen(this.Zt,this.An,"closePopover")},n.prototype.mount=function(n){var e=this,i=(void 0===n?{show:!0}:n).show,r=this.yn(i),o=r[0],s=r[1];return document.body.insertBefore(o,document.body.firstChild),t.prototype.vn.call(this,s).then((function(){i?e._n(r):e.setPresence({visible:!1})}))},n.prototype.destroy=function(){var n=this.Mn();n&&n[0]&&document.body.removeChild(n[0]),this.restorePageHeight(),this.forgetMe(),this.$t.unlisten(this.An),this.N.forgetUIBox(this),t.prototype.destroy.call(this)},n.prototype.show=function(){this._();var t=this.Nn();this._n(t)},n.prototype.hide=function(){this._();var t=this.Nn();this.kn(t)},n.prototype.on=function(n,e){this._(),t.prototype.ln.call(this,n)?t.prototype.on.call(this,n,e):this.wn.on(n,e)},n.prototype.off=function(n,e){t.prototype.off.call(this,n,e),this.wn.off(n,e)},n.prototype.Mn=function(){var t=document.getElementById("__talkjs_popup_container_"+this.sessionId);if(t){var n=t.getElementsByTagName("span")[0],e=t.getElementsByClassName("__talkjs_launcher")[0];return[t,n,e]}},n.prototype.Nn=function(){var t=this.Mn();if(!t){throw Error("[TalkJS] Unexpected error: Could not find popup container. Maybe something, other than TalkJS, removed it from the DOM?")}return t},n.prototype._n=function(t){for(var n=t[0],e=t[1],i=t[2],r=0,o=this.N.Sn(c.Popup);r<o.length;r++){var s=o[r];this!==s&&s.hide()}e.style.display="",i&&(i.className=i.className.replace("closed","open"),i.style.display="",i.setAttribute("aria-label","Close chat popup")),n.style.display="",this.rememberMe(),vt()===f.Popover&&this.fixPageHeight(n),this.En=!0,this.setPresence({visible:!0}),this.messageField.focus()},n.prototype.kn=function(t){var n=t[0],e=t[1],i=t[2];"always"===this.gn.launcher?(e.style.display="none",i&&(i.className=i.className.replace("open","closed"),i.setAttribute("aria-label","Open chat popup"))):n.style.display="none",this.restorePageHeight(),this.forgetMe(),this.En=!1,this.setPresence({visible:!1})},n.prototype.yn=function(t){var n=this,e=document.createElement("span"),i=document.createElement("style");i.type="text/css",i.appendChild(document.createTextNode(It));var r,o=document.createElement("div");o.id="__talkjs_popup_container_"+this.sessionId,e.style.display="none",e.className="__talkjs_popup",o.appendChild(i),o.appendChild(e);var s=[o,e,void 0];return"never"!==this.gn.launcher&&(r=document.createElement("a"),s[2]=r,r.href="#",r.className="__talkjs_launcher "+(t?"open":"closed"),(t||"close-only"===this.gn.launcher)&&(r.style.display="none"),r.id="__talkjs_launcher",r.addEventListener("click",(function(t){t.preventDefault(),t.target.className.match(/open/)?(n.kn(s),n.wn.emit("close",{})):(n._n(s),n.wn.emit("open",{}))})),o.appendChild(r)),s},n.prototype.rememberMe=function(){if(this.gn.keepOpen){var t;t=this.conversation instanceof h||this.conversation instanceof l?this.conversation.id:this.conversation;var n=JSON.stringify({conversationId:t,options:this.gn});K.m(wt(this.N.appId,this.N.me.id,"v2-"),n)}},n.prototype.fixPageHeight=function(t){var n=document.body,e=document.documentElement;this.jn={Dn:n.style.overflow,Pn:n.style.height,Cn:n.style.width,Rn:n.style.position,xn:window.scrollY,zn:window.scrollX,Fn:e.style.height,Ln:e.style.overflow},t.style.top=t.style.left="0px",window.scrollTo(0,0),n.style.height=e.style.height="100%",n.style.width="100%",e.style.overflow=n.style.overflow="hidden",n.style.position="relative"},n.prototype.restorePageHeight=function(){if(this.jn){var t=document.body,n=document.documentElement;t.style.overflow=this.jn.Dn,t.style.width=this.jn.Cn,t.style.height=this.jn.Pn,t.style.position=this.jn.Rn,n.style.height=this.jn.Fn,n.style.overflow=this.jn.Ln,window.scrollTo(this.jn.zn,this.jn.xn)}},n.prototype.forgetMe=function(){K.f(wt(this.N.appId,this.N.me.internalId)),K.f(wt(this.N.appId,this.N.me.id,"v2-"))},n}(Ot);function wt(t,n,e){return void 0===e&&(e=""),"talkjs-popup-"+e+n+"-"+t}var Et,At=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nt=function(t){function n(n,e,i){var r=(void 0===e?{}:e).selectedConversation;return t.call(this,n,{hideHub:!0,selectedConversation:r},c.Chatbox,i)||this}return At(n,t),n.prototype.mount=function(n){return t.prototype.vn.call(this,n)},n.prototype.destroy=function(){t.prototype.destroy.call(this)},n}(Ot),kt=e(7);Et=e(442).default;var yt={};for(var _t in Et)yt[_t]=new kt.a({values:Et[_t]});var Mt=yt,St=function(){function t(n){var e=this,i=n.appId,o=n.me,s=n.signature;if(this.C=new B({message:function(t){},desktopNotificationClicked:function(t){}}),this.Un=[],this.Bn=!0,this.vt=Object(K.n)(),this.P=function(t){if(e.C.handles("desktopNotificationClicked"))setTimeout((function(){e.C.emit("desktopNotificationClicked",{conversation:t})}),0);else{var n=e.getInboxes();if(1===n.length)n[0].select(t.id)}},this.Kn=et[t.Yn],!this.Kn)throw new Error("[TalkJS] Unexpected error at TalkJS startup.");if(!(o instanceof a))throw new Error("[TalkJS] The `me` property in the Session#constructor has to be of type Talk.User. For example:\n\nvar user = new Talk.User(data);\nvar session = new Talk.Session({\n    me: user,\n    appId: ...\n})\n\nFor more information check our documentation https://talkjs.com/docs/Reference/JavaScript_Chat_SDK/Session.html#Session.constructor");this.appId=Object(r.d)(i,["string"],"Session: required field 'appId' is not given, is not a string or it's empty.",[r.b,function(t){return"YOUR_APP_ID"!==t}]),this.me=Object(r.d)(o,["object"],"Session: required field 'me' is not given or not a Talk.User object"),this.signature=Object(r.d)(s,["string","undefined"],"Session: optional field 'signature' is not a string.",[r.b]),this.M=function(t,n,e,i){var r=new K.b([["signature",e]]),o=tt(t,"bokens/"+encodeURIComponent(n.id)+"?"+r.toString());return Object(K.g)("GET",o).then((function(t){return JSON.parse(t)})).then((function(e){return new X(e.boken,n,t,e.appLocale,i)}))}(this.appId,this.me,this.signature,this.vt),this.Wt=new H(this.M,(function(t){return e.C.emit("message",t)}),this.P),this.unreads=this.Wt,new G(this.M,this.vt),this.Jn(),this.Hn(),this.In=kt.a.decide(Mt,"en",this.me.locale),this.M.then((function(t){return t.getNym(e.me.internalId).then((function(n){n.locale===e.me.locale&&null!==n.locale||(e.In=kt.a.decide(Mt,t.appLocale,n.locale))}))}))}return t.prototype.hasValidCredentials=function(){return this._(),this.M.then((function(){return!0}),(function(){return!1}))},t.prototype.Jn=function(){var t=K.h("talkjs-popup-"+this.me.internalId+"-"+this.appId),n=K.h("talkjs-popup-v2-"+this.me.id+"-"+this.appId);if(t||n){if(n){var e=JSON.parse(n),i=e.conversationId,r=e.options;this.createPopup(i,r).mount({show:!0})}if(t)this.createPopup(t).mount({show:!0})}},t.prototype.Hn=function(){var t=this,n=function(n){for(var e=0,i=t.Un;e<i.length;e++){i[e].onWindowVisibleChanged(n)}};window.addEventListener("focus",(function(){return n(!0)})),window.addEventListener("blur",(function(){return n(!1)}))},t.prototype.getOrStartConversation=function(t,n){var e=void 0===n?{}:n,i=e.participants,s=e.topicId,u=e.subject,c=e.custom,f=e.welcomeMessages,l=e.photoUrl;if(this._(),t instanceof a){var d=t,O=[this.me,d];return this.getOrStartConversation(v(this.me,d,s),{participants:O,topicId:s,subject:u,welcomeMessages:f,custom:c,photoUrl:l})}var p=t;Object(r.d)(p,["string"],"conversationId cannot be empty",[r.b]);var T=(i=i||[]).map((function(t){return new o(t)}));return T=this.Gn(T,this.me),new h({conversationId:p,participants:T,topicId:s,subject:u,welcomeMessages:f,custom:c,photoUrl:l})},t.prototype.Gn=function(t,n){var e,r=this;return t.filter((function(t){return t.user.id===r.me.id}))[0]?t:(e=new o(this.me),Object(i.g)([e],t))},t.prototype.getOrCreateConversation=function(t){return this._(),new l(t,this)},t.prototype.createInbox=function(t){void 0===t&&(t={}),this._(),t.feedFilter&&Object(ft.c)("feedFilter",t.feedFilter),t.messageFilter&&Object(ft.d)("feedFilter",t.messageFilter);var n=t.selected,e=new mt(this,{selectedConversation:n},t);return this.rememberUIBox(e),e},t.prototype.createChatbox=function(t,n){void 0===n&&(n={}),this._();var e=new Nt(this,{selectedConversation:t},n);return this.rememberUIBox(e),e},t.prototype.createPopup=function(t,n){this._();var e={keepOpen:!this.nn(4),launcher:this.nn(5)?"always":"close-only"};n=Object(i.a)(Object(i.a)({},e),n);var r=new gt(this,t,n);return this.rememberUIBox(r),r},t.prototype.rememberUIBox=function(t){this.Un.push(t)},t.prototype.syncThemeForLocalDev=function(t){this._(),K.j(this.appId)?console.warn("[TalkJS]: syncThemeForLocalDev does not work in live mode, please copy your theme to the TalkJS dashboard!"):this.legacyThemePath=t},t.prototype.forgetUIBox=function(t){var n=this.Un.indexOf(t);n>=0&&this.Un.splice(n,1)},t.prototype.setDesktopNotificationEnabled=function(t,n){var e=this,i=(void 0===n?{}:n).alertOnFailure,r=void 0===i||i;this._();var o=function(t){e.Qn(),e.Un.forEach((function(n){return n.mn(t)}))};return z(t,{locale:this.In,alertOnFailure:r}).then((function(){return o(t)})).catch((function(t){throw o(!1),t}))},t.prototype.Qn=function(){this.Un.filter((function(t){return t.isZombie()})).forEach((function(t){return t.destroy()}))},t.prototype.registerDevice=function(t){var n=this,e=t.platform,i=t.pushRegistrationId;return this._(),e=Object(r.d)(e,["string"],'Session.registerDevice: Platform should be a string containing "ios" or "android" values.',[r.g]),i=Object(r.d)(i,["string"],"Session.registerDevice: Push registration id should be not empty string.",[r.b]),this.M.then((function(t){return t.put("/nyms/"+n.me.internalId+"/push_registration",{platform:e,pushRegistrationId:i})})).then((function(){})).catch((function(t){throw console.error("[TalkJS]","Cannot register this device. Please contact us to get more information."),t}))},t.prototype.unregisterDevice=function(){var t=this;return this._(),this.M.then((function(n){return n.delete("/nyms/"+t.me.internalId+"/push_registration")})).then((function(){})).catch((function(t){throw console.error("[TalkJS]","Cannot unregister this device. Please contact us to get more information."),t}))},t.prototype.on=function(t,n){this._(),this.C.on(t,n)},t.prototype.off=function(t,n){this.C.off(t,n)},t.prototype.destroy=function(){this.Bn=!1;for(var t=0,n=this.Un;t<n.length;t++){n[t].destroy()}this.Wt.st(),this.C.removeAllListeners(),this.M.then((function(t){return t.disconnect()}))},t.prototype.getPopups=function(){return this.Sn(c.Popup)},t.prototype.getInboxes=function(){return this.Sn(c.Inbox)},t.prototype.getChatboxes=function(){return this.Sn(c.Chatbox)},t.prototype.Sn=function(t){return this.Qn(),this.Un.filter((function(n){return n.boxType===t}))},t.prototype._=function(){if(!this.Bn)throw new Error("[TalkJS] The Talk.Session instance related to this operation has been destroyed, and it cannot be used anymore. Please create a new Session.")},t.prototype.Wn=function(t){var n=this;return function(t){return n.M.then((function(n){return n.post("/_t",t)}))}(t)},t.prototype.nn=function(t){return-1!==this.Kn.indexOf(t)},t}();var jt=window;if(jt.Talk||(jt.Talk={}),St.Yn=jt.Talk.v||0,jt.Talk.User=a,jt.Talk.Session=St,jt.Talk.Error=y,jt.Talk.TalkError=y,jt.Talk.oneOnOneId=function(t,n){return t instanceof a&&(t=t.id),n instanceof a&&(n=n.id),Object(s.a)(JSON.stringify([t,n].sort()))},jt.Talk.getAppMetadata=function(t){var n=tt(t,"");return K.g("GET",n).then((function(t){return JSON.parse(t)})).then((function(n){if(n.custom)return{id:t,custom:n.custom};throw new Error("Unexpected error")}))},jt.onTalkLoaded&&jt.onTalkLoaded(),jt.onTalkUiLoaded&&jt.onTalkUiLoaded(),jt.Talk.ready){var Dt=_.a.resolve(),Pt=jt.Talk.ready;Pt.c.forEach((function(t){var n=t[0],e=t[1],i=t[2];Dt.then(n).then(e).catch(i)})),Pt.$n=[],Pt.then=Dt.then.bind(Dt),Pt.catch=Dt.catch.bind(Dt)}},55:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return o})),e.d(n,"c",(function(){return s}));var i=e(46);e(40);function r(t,n){var e={};return t.forEach((function(t,i){var r=n(t,i),o=r[0],s=r[1];e[o]=s})),e}function o(t){return r(t,(function(t){return t}))}function s(t,n){return o(Object(i.d)(t,n))}},6:function(t,n,e){"use strict";function i(t,n,e,i){void 0===i&&(i=[]);var r=f(t);if(-1===n.indexOf(r))throw new Error("[TalkJS] "+e);for(var o=0,s=i;o<s.length;o++){if(!(0,s[o])(t))throw new Error("[TalkJS] "+e)}return t}function r(t,n,e){if(-1===n.indexOf(t))throw new Error("[TalkJS] "+e)}function o(t,n,e){for(var r in t)i(t[r],n,e(r,t[r]))}function s(t,n,e,r,o,s){void 0===s&&(s=[]),void 0!==e&&(t[n]=i(e,r,o,s))}function u(t){return""!==t}function a(t){return!t||/^[a-z]{1,3}(-.+)?$/.test(t)}function c(t){return!(["ios","android"].indexOf(t)<0)}function f(t){if(null===t)return"null";var n=typeof t;return"object"!==n?n:t instanceof Array?t.length?f(t[0])+"[]":"[]":n}e.d(n,"d",(function(){return i})),e.d(n,"f",(function(){return r})),e.d(n,"e",(function(){return o})),e.d(n,"c",(function(){return s})),e.d(n,"b",(function(){return u})),e.d(n,"a",(function(){return a})),e.d(n,"g",(function(){return c}))},64:function(t,n,e){"use strict";var i=function(){var t=void 0;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}return!1}(),r={};i?(r.setItem=window.localStorage.setItem.bind(window.localStorage),r.getItem=window.localStorage.getItem.bind(window.localStorage),r.isSupported=!0):(r.setItem=function(){},r.getItem=function(){return null},r.isSupported=!1),r.set=function(t,n){return r.setItem(t,JSON.stringify(n))},r.get=function(t){return JSON.parse(r.getItem(t)||"null")},n.a=r},68:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return a}));var i=e(38),r=function(){return(r=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},o=window.WebSocket,s=function(){function t(t,n){this.Zn=n,this.qn=[t,"api","v0",n.appId,"socket"].join("/"),this.at=null,this.ft={}}return t.prototype.connect=function(t){var n=this,e=r(r({},this.Zn),t);try{var s=!0;this.at=new i.Socket(this.qn,{params:e,transport:o}),this.at.onOpen((function(){return s=!1})),this.at.onError((function(){var t=n.at;s&&t.transport===o&&t.disconnect((function(){t.transport=i.LongPoll,t.connect()}))})),this.at.connect()}catch(t){if("SecurityError"!==t.message)throw t;this.at=new i.Socket(this.qn,{params:e,transport:i.LongPoll}),this.at.connect()}},t.prototype.disconnect=function(){this.at&&(this.Vn(),this.Xn())},t.prototype.Vn=function(){for(var t=0,n=Object.keys(this.ft);t<n.length;t++){var e=n[t];this.ft[e].phoenixChannel.leave()}this.ft={}},t.prototype.Xn=function(){this.at&&(this.at.disconnect(void 0,1e3),this.at.reconnectTimer.reset(),clearInterval(this.at.heartbeatTimer))},t.prototype.getOrJoin=function(t,n,e,i){if(void 0===n&&(n={}),!this.at)throw new Error("[TalkJS] Socket not connected");var r=t+":"+this.Zn.appId,o=this.ft[r];return o||(o=new u(this.at,r,{initialData:n,onRejoin:e,onJoin:i}),this.ft[r]=o),o.phoenixChannel},t}(),u=function(t,n,e){var i=this,r=e.initialData,o=e.onRejoin,s=e.onJoin;this.phoenixChannel=t.channel(n,r),this.phoenixChannel.onError((function(t){return!1})),this.phoenixChannel.onClose((function(t){return!1}));var u=void 0;this.phoenixChannel.join().receive("ok",(function(t){var n=u;if(u=(t||{}).backend_instance_id||"not_implemented",void 0!==n){var e=n!==u;o&&o(i.phoenixChannel,e)}})).receive("error",(function(t){return!1})),s&&s(this.phoenixChannel)};function a(t,n){return new Promise((function(e,i){t.receive("ok",(function(t){return e(t)})).receive("error",(function(t){return i(t)})).receive("timeout",(function(){var t="[TalkJS] Network issues for "+n+".";console.warn(t),i(t)}))}))}},7:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i=function(){return(i=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};var r=function(){function t(t,n){var e=n?i(i({},n.values),t.values):t.values;this.values=e,this.meta=t.meta,this.t=function(t,n){return void 0===n&&(n=void 0),n?function(t,n){for(var e in n)t=t.replace("$"+e,n[e]);return t}(e[t],n):e[t]}}return t.decide=function(t,n,e){void 0===n&&(n="en");var i=o(t,e);if(i)return i;var r=o(t,n);return r||t.en},t}();function o(t,n){if(n){var e=t[n=n.replace(/_/g,"-").toLowerCase()];return e||t[n.substring(0,2)]}}}});